{
  "feature": "meta_model",
  "attempt": 19,
  "timestamp": "2026-02-21T13:30:58.692228",
  "architecture": "XGBoost Optuna HPO (100 trials) + Bootstrap Data Subsampling Ensemble (12 models, 80%) + OLS scaling",
  "phase": "3_meta_model",
  "model_config": {
    "n_features": 28,
    "train_samples": 2134,
    "val_samples": 457,
    "test_samples": 458,
    "samples_per_feature_ratio": 76.21428571428571,
    "n_ensemble_models": 12,
    "bootstrap_fraction": 0.8
  },
  "optuna_study": {
    "n_trials": 100,
    "best_score": 0.554512899365845,
    "best_params": {
      "max_depth": 3,
      "min_child_weight": 12,
      "subsample": 0.9163471351194828,
      "colsample_bytree": 0.45258052718529834,
      "reg_lambda": 3.5934352923734165,
      "reg_alpha": 0.628244362129212,
      "learning_rate": 0.043677291145504026
    },
    "best_trial_val_da": 0.5460526315789473,
    "best_trial_val_sharpe": 1.912132660958727,
    "best_trial_val_mae": 0.6433194567739606,
    "search_space": {
      "max_depth": [
        2,
        4
      ],
      "min_child_weight": [
        10,
        50
      ],
      "subsample": [
        0.6,
        0.95
      ],
      "colsample_bytree": [
        0.35,
        0.7
      ],
      "reg_lambda": [
        0.3,
        8.0
      ],
      "reg_alpha": [
        0.0,
        4.0
      ],
      "learning_rate": [
        0.01,
        0.05
      ],
      "n_estimators": 800,
      "early_stopping_rounds": 50
    },
    "objective_formula": "DA * 0.6 + Sharpe_norm * 0.3 + MAE_norm * 0.1",
    "top_5_trials": [
      {
        "number": 55,
        "score": 0.554512899365845,
        "params": {
          "max_depth": 3,
          "min_child_weight": 12,
          "subsample": 0.9163471351194828,
          "colsample_bytree": 0.45258052718529834,
          "reg_lambda": 3.5934352923734165,
          "reg_alpha": 0.628244362129212,
          "learning_rate": 0.043677291145504026
        },
        "val_da": 0.5460526315789473,
        "val_sharpe": 1.912132660958727
      },
      {
        "number": 30,
        "score": 0.543002359942616,
        "params": {
          "max_depth": 3,
          "min_child_weight": 13,
          "subsample": 0.9163498477731999,
          "colsample_bytree": 0.46424570591323766,
          "reg_lambda": 1.2070338688611417,
          "reg_alpha": 2.452706250150412,
          "learning_rate": 0.0395249138500785
        },
        "val_da": 0.5460526315789473,
        "val_sharpe": 1.797592295081251
      },
      {
        "number": 53,
        "score": 0.5246453539763415,
        "params": {
          "max_depth": 3,
          "min_child_weight": 16,
          "subsample": 0.9083050176870167,
          "colsample_bytree": 0.4387919761849492,
          "reg_lambda": 2.3319090777643297,
          "reg_alpha": 1.2603528652329499,
          "learning_rate": 0.04539070319703458
        },
        "val_da": 0.5350877192982456,
        "val_sharpe": 1.6793410044136732
      },
      {
        "number": 88,
        "score": 0.5224734211425176,
        "params": {
          "max_depth": 3,
          "min_child_weight": 32,
          "subsample": 0.8290724460773153,
          "colsample_bytree": 0.48125090348047617,
          "reg_lambda": 0.6301391075026929,
          "reg_alpha": 0.9165619916710944,
          "learning_rate": 0.03122747594399551
        },
        "val_da": 0.5328947368421053,
        "val_sharpe": 1.6719134248690446
      },
      {
        "number": 77,
        "score": 0.5173674446465389,
        "params": {
          "max_depth": 3,
          "min_child_weight": 16,
          "subsample": 0.8633394585179852,
          "colsample_bytree": 0.4486617471611859,
          "reg_lambda": 1.2161671677114692,
          "reg_alpha": 0.48062507907669405,
          "learning_rate": 0.042174699584844044
        },
        "val_da": 0.5328947368421053,
        "val_sharpe": 1.6204615463062513
      }
    ]
  },
  "bootstrap_analysis": {
    "n_ensemble_models": 12,
    "bootstrap_fraction": 0.8,
    "bootstrap_std_range_test": [
      0.024915264919400215,
      0.2095545530319214
    ],
    "bootstrap_std_mean_test": 0.06002531200647354,
    "bootstrap_conf_range_test": [
      0.826750636100769,
      0.975690484046936
    ],
    "bootstrap_conf_mean_test": 0.9441120624542236,
    "hcda_bootstrap": 0.5652173913043478,
    "hcda_pred": 0.6956521739130435,
    "hcda_improvement_pp": -13.043478260869568
  },
  "ols_scaling": {
    "alpha_ols": 3.2924246083972775,
    "mae_raw": 0.9569202537589176,
    "mae_scaled": 0.9431892594025364,
    "mae_improvement": 0.013730994356381254
  },
  "primary_hcda_method": "pred",
  "primary_hcda_value": 0.6956521739130435,
  "primary_mae": 0.9431892594025364,
  "metrics": {
    "train": {
      "direction_accuracy": 0.5979284369114878,
      "high_confidence_da": 0.7576470588235295,
      "high_confidence_coverage": 0.2000937207122774,
      "mae": 0.6259871358789031,
      "mae_raw": 0.6441607773020318,
      "mae_scaled": 0.6259871358789031,
      "sharpe_ratio": 3.981178819454401
    },
    "val": {
      "direction_accuracy": 0.5241228070175439,
      "high_confidence_da": 0.5714285714285714,
      "high_confidence_coverage": 0.2013129102844639,
      "mae": 0.6430952610685239,
      "mae_raw": 0.6430952610685239,
      "mae_scaled": 0.6455142155353304,
      "sharpe_ratio": 1.0484023770585842
    },
    "test": {
      "direction_accuracy": 0.611353711790393,
      "high_confidence_da": 0.6956521739130435,
      "high_confidence_coverage": 0.20087336244541484,
      "mae": 0.9431892594025364,
      "mae_raw": 0.9569202537589176,
      "mae_scaled": 0.9431892594025364,
      "sharpe_ratio": 2.964186571654982
    }
  },
  "feature_importance": {
    "top_15": [
      {
        "feature": "temporal_context_score",
        "importance_pct": 4.780143737792969
      },
      {
        "feature": "real_rate_change",
        "importance_pct": 4.654644966125488
      },
      {
        "feature": "rr_level_change_z",
        "importance_pct": 4.495076656341553
      },
      {
        "feature": "tech_trend_regime_prob",
        "importance_pct": 4.4538373947143555
      },
      {
        "feature": "vix",
        "importance_pct": 4.343142986297607
      },
      {
        "feature": "options_risk_regime_prob",
        "importance_pct": 4.233710289001465
      },
      {
        "feature": "xasset_regime_prob",
        "importance_pct": 4.082117557525635
      },
      {
        "feature": "ie_anchoring_z",
        "importance_pct": 3.9799458980560303
      },
      {
        "feature": "xasset_divergence",
        "importance_pct": 3.9629573822021484
      },
      {
        "feature": "inflation_exp_change",
        "importance_pct": 3.9304966926574707
      },
      {
        "feature": "yc_curvature_z",
        "importance_pct": 3.8874733448028564
      },
      {
        "feature": "tech_mean_reversion_z",
        "importance_pct": 3.594275951385498
      },
      {
        "feature": "ie_regime_prob",
        "importance_pct": 3.52777361869812
      },
      {
        "feature": "tech_volatility_regime",
        "importance_pct": 3.416236162185669
      },
      {
        "feature": "rr_slope_chg_z",
        "importance_pct": 3.389832019805908
      }
    ],
    "real_rate_submodel_total_pct": 14.324063301086426,
    "real_rate_submodel_individual": {
      "rr_level_change_z": {
        "rank": 3,
        "importance_pct": 4.495076656341553
      },
      "rr_slope_chg_z": {
        "rank": 15,
        "importance_pct": 3.389832019805908
      },
      "rr_curvature_chg_z": {
        "rank": 23,
        "importance_pct": 3.106142282485962
      },
      "rr_slope_level_z": {
        "rank": 17,
        "importance_pct": 3.333012342453003
      }
    }
  },
  "target_evaluation": {
    "direction_accuracy": {
      "target": "> 56.0%",
      "actual": "61.14%",
      "gap": "+5.14pp",
      "passed": true
    },
    "high_confidence_da": {
      "target": "> 60.0%",
      "actual": "69.57%",
      "gap": "+9.57pp",
      "passed": true,
      "method_used": "pred"
    },
    "mae": {
      "target": "< 0.75%",
      "actual": "0.9432%",
      "gap": "-0.9357%",
      "passed": false
    },
    "sharpe_ratio": {
      "target": "> 0.80",
      "actual": "2.96",
      "gap": "+2.16",
      "passed": true
    }
  },
  "targets_passed": "3",
  "targets_total": 4,
  "overall_passed": false,
  "overfitting_analysis": {
    "train_test_da_gap_pp": -1.3425274878905213,
    "target_gap_pp": 10.0,
    "overfitting_check": "PASS"
  },
  "vs_attempt_7": {
    "da_delta_pp": 1.095371179039295,
    "hcda_delta_pp": 5.435217391304348,
    "mae_delta": 0.0002892594025364348,
    "sharpe_delta": 0.5005865716549818
  },
  "vs_attempt_18": {
    "da_delta_pp": 2.8353711790393032,
    "hcda_delta_pp": 6.52521739130435,
    "mae_delta": -0.009510740597463596,
    "sharpe_delta": 1.1017865716549817
  },
  "vs_naive": {
    "naive_always_up_da": "58.95%",
    "model_vs_naive_pp": 2.183406113537112
  },
  "prediction_characteristics": {
    "mean_raw": 0.020471815019845963,
    "std_raw": 0.03197846561670303,
    "min_raw": -0.11057543009519577,
    "max_raw": 0.10494605451822281,
    "positive_pct": 77.72925764192141
  }
}