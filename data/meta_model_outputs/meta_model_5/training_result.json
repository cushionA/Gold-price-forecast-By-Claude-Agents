{
  "feature": "meta_model",
  "attempt": 5,
  "timestamp": "2026-02-15T18:27:17.539744",
  "architecture": "XGBoost reg:squarederror",
  "phase": "3_meta_model",
  "model_config": {
    "n_features": 23,
    "train_samples": 2131,
    "val_samples": 456,
    "test_samples": 458,
    "samples_per_feature_ratio": 92.65217391304348,
    "selected_configuration": "optuna",
    "optuna_trials_completed": 100,
    "best_params": {
      "max_depth": 5,
      "min_child_weight": 12,
      "subsample": 0.8953665544475752,
      "colsample_bytree": 0.24039822576529385,
      "reg_lambda": 0.1638911080318256,
      "reg_alpha": 1.4249396015418303,
      "learning_rate": 0.03831607614909275,
      "n_estimators": 792
    }
  },
  "optuna_search": {
    "n_trials": 100,
    "best_value": 0.6747730797106886,
    "best_trial_number": 22,
    "top_5_trials": [
      {
        "number": 22,
        "value": 0.6747730797106886,
        "params": {
          "max_depth": 5,
          "min_child_weight": 12,
          "subsample": 0.8953665544475752,
          "colsample_bytree": 0.24039822576529385,
          "reg_lambda": 0.1638911080318256,
          "reg_alpha": 1.4249396015418303,
          "learning_rate": 0.03831607614909275,
          "n_estimators": 792
        },
        "val_da": 0.5230769230769231,
        "val_hc_da": 0.6896551724137931
      },
      {
        "number": 35,
        "value": 0.6319497007617134,
        "params": {
          "max_depth": 5,
          "min_child_weight": 17,
          "subsample": 0.884237774178996,
          "colsample_bytree": 0.3313907161233715,
          "reg_lambda": 5.18284397159894,
          "reg_alpha": 6.427264616869485e-06,
          "learning_rate": 0.04031960854601613,
          "n_estimators": 952
        },
        "val_da": 0.5384615384615384,
        "val_hc_da": 0.5666666666666667
      },
      {
        "number": 68,
        "value": 0.6317123933703965,
        "params": {
          "max_depth": 5,
          "min_child_weight": 19,
          "subsample": 0.9398224878283055,
          "colsample_bytree": 0.24774342474267058,
          "reg_lambda": 0.344562772949704,
          "reg_alpha": 0.46355451517328566,
          "learning_rate": 0.03866023891825096,
          "n_estimators": 873
        },
        "val_da": 0.5230769230769231,
        "val_hc_da": 0.625
      },
      {
        "number": 26,
        "value": 0.6084656417729822,
        "params": {
          "max_depth": 5,
          "min_child_weight": 18,
          "subsample": 0.8971089515888809,
          "colsample_bytree": 0.36911420136493633,
          "reg_lambda": 0.7063192286011977,
          "reg_alpha": 0.00015878295913183184,
          "learning_rate": 0.039365100705098854,
          "n_estimators": 998
        },
        "val_da": 0.5296703296703297,
        "val_hc_da": 0.5777777777777777
      },
      {
        "number": 88,
        "value": 0.6059147172382741,
        "params": {
          "max_depth": 5,
          "min_child_weight": 20,
          "subsample": 0.9111527493117876,
          "colsample_bytree": 0.4868294228037236,
          "reg_lambda": 0.6364171344000802,
          "reg_alpha": 1.6910247859035595e-06,
          "learning_rate": 0.03432738359018633,
          "n_estimators": 888
        },
        "val_da": 0.5406593406593406,
        "val_hc_da": 0.5176470588235295
      }
    ]
  },
  "fallback_comparison": {
    "fallback_objective": 0.49272070693862674,
    "optuna_objective": 0.6747730797106886,
    "selected": "optuna",
    "fallback_metrics": {
      "da": 0.5076923076923077,
      "hcda": 0.5666666666666667,
      "mae": 0.6412890648162992,
      "sharpe": 0.032626516477016844
    }
  },
  "metrics": {
    "train": {
      "direction_accuracy": 0.6412069778406412,
      "high_confidence_da": 0.8419811320754716,
      "high_confidence_coverage": 0.1999061473486626,
      "mae": 0.6304926521662522,
      "sharpe_ratio": 5.335326490595248
    },
    "val": {
      "direction_accuracy": 0.49230769230769234,
      "high_confidence_da": 0.5888888888888889,
      "high_confidence_coverage": 0.19956140350877194,
      "mae": 0.6414624896006087,
      "sharpe_ratio": -0.6075063527759119
    },
    "test": {
      "direction_accuracy": 0.5676855895196506,
      "high_confidence_da": 0.5760869565217391,
      "high_confidence_coverage": 0.20087336244541484,
      "mae": 0.9520826610709032,
      "sharpe_ratio": 1.8343075264169162
    }
  },
  "target_evaluation": {
    "direction_accuracy": {
      "target": "> 56.0%",
      "actual": "56.77%",
      "gap": "+0.77pp",
      "passed": true
    },
    "high_confidence_da": {
      "target": "> 60.0%",
      "actual": "57.61%",
      "gap": "-2.39pp",
      "passed": false
    },
    "mae": {
      "target": "< 0.75%",
      "actual": "0.9521%",
      "gap": "-0.9446%",
      "passed": false
    },
    "sharpe_ratio": {
      "target": "> 0.80",
      "actual": "1.83",
      "gap": "+1.03",
      "passed": true
    }
  },
  "targets_passed": 2,
  "targets_total": 4,
  "overall_passed": false,
  "overfitting_analysis": {
    "train_test_da_gap_pp": 7.352138832099053,
    "target_gap_pp": 10.0,
    "overfitting_check": "PASS"
  },
  "feature_importance": {
    "top_10": [
      {
        "feature": "real_rate_change",
        "importance": 0.0823620930314064
      },
      {
        "feature": "tech_trend_regime_prob",
        "importance": 0.0546242818236351
      },
      {
        "feature": "options_risk_regime_prob",
        "importance": 0.05404680222272873
      },
      {
        "feature": "tech_mean_reversion_z",
        "importance": 0.05364002287387848
      },
      {
        "feature": "tech_volatility_regime",
        "importance": 0.048562802374362946
      },
      {
        "feature": "xasset_divergence",
        "importance": 0.048128679394721985
      },
      {
        "feature": "vix",
        "importance": 0.04443363845348358
      },
      {
        "feature": "xasset_regime_prob",
        "importance": 0.04436647519469261
      },
      {
        "feature": "inflation_exp_change",
        "importance": 0.042579781264066696
      },
      {
        "feature": "dxy_change",
        "importance": 0.04185754433274269
      }
    ],
    "options_risk_regime_prob_rank": 23,
    "options_risk_regime_prob_importance": 0.05404680222272873
  },
  "vs_attempt_2": {
    "da_delta_pp": -0.49144104803493516,
    "hcda_delta_pp": 2.3486956521739155,
    "mae_delta": 0.26438266107090325,
    "sharpe_delta": 0.2508075264169163
  },
  "vs_naive": {
    "naive_always_up_da": "58.73%",
    "model_vs_naive_pp": -1.9650655021834051
  },
  "prediction_characteristics": {
    "mean": 0.012795096263289452,
    "std": 0.06985290348529816,
    "min": -0.4137636125087738,
    "max": 0.2183922976255417,
    "positive_pct": 63.53711790393013
  }
}