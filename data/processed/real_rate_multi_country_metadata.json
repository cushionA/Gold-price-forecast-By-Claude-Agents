{
  "feature": "real_rate_multi_country",
  "attempt": 3,
  "created_at": "2026-02-14T16:45:00",
  "description": "Multi-country interest rate and inflation features for Transformer submodel",

  "data_sources": {
    "US_TIPS": "FRED:DFII10 (daily, resampled to month-start)",
    "VIX": "FRED:VIXCLS (daily, resampled to month-start)",
    "countries": {
      "germany": {
        "nominal": "FRED:IRLTLT01DEM156N",
        "cpi": "FRED:CPALTT01DEM659N"
      },
      "uk": {
        "nominal": "FRED:IRLTLT01GBM156N",
        "cpi": "FRED:CPALTT01GBM659N"
      },
      "canada": {
        "nominal": "FRED:IRLTLT01CAM156N",
        "cpi": "FRED:CPALTT01CAM659N"
      },
      "switzerland": {
        "nominal": "FRED:IRLTLT01CHM156N",
        "cpi": "FRED:CPALTT01CHM659N"
      },
      "norway": {
        "nominal": "FRED:IRLTLT01NOM156N",
        "cpi": "FRED:CPALTT01NOM659N"
      },
      "sweden": {
        "nominal": "FRED:IRLTLT01SEM156N",
        "cpi": "FRED:CPALTT01SEM659N"
      }
    },
    "excluded": {
      "japan": "CPI data ends 2021-06 (too early)"
    }
  },

  "feature_groups": {
    "us_tips": ["us_tips_level", "us_tips_change"],
    "country_nominal_levels": [
      "germany_nominal_level", "uk_nominal_level", "canada_nominal_level",
      "switzerland_nominal_level", "norway_nominal_level", "sweden_nominal_level"
    ],
    "country_nominal_changes": [
      "germany_nominal_change", "uk_nominal_change", "canada_nominal_change",
      "switzerland_nominal_change", "norway_nominal_change", "sweden_nominal_change"
    ],
    "country_cpi_lagged": [
      "germany_cpi_lagged", "uk_cpi_lagged", "canada_cpi_lagged",
      "switzerland_cpi_lagged", "norway_cpi_lagged", "sweden_cpi_lagged"
    ],
    "cross_country_aggregates": [
      "yield_dispersion", "yield_change_dispersion",
      "mean_cpi_change", "us_vs_global_spread"
    ],
    "market_context": ["vix_monthly"]
  },

  "date_range": {
    "start": "2003-02-01",
    "end": "2025-06-01",
    "frequency": "monthly (month-start)",
    "total_months": 269
  },

  "dimensions": {
    "rows": 269,
    "columns": 25
  },

  "preprocessing": {
    "resample_method": {
      "US_TIPS": "last value of month",
      "VIX": "mean of month"
    },
    "cpi_lag": "1 month (to avoid publication lag)",
    "missing_data_handling": "forward-fill with max 3-month limit, then drop remaining NaN",
    "alignment": "month-start (MS frequency) for all series"
  },

  "quality_checks": {
    "missing_values": 0,
    "us_tips_mean": 0.929,
    "us_tips_std": 1.011,
    "vix_mean": 19.12,
    "vix_std": 8.06,
    "all_sanity_checks": "PASS"
  },

  "design_notes": {
    "architecture": "Transformer Autoencoder (multi-country)",
    "rationale": "Synthetic real rates (Nominal - CPI) have poor correlation (0.49) with true TIPS. Using nominal and CPI as separate inputs allows Transformer to learn the relationship.",
    "sample_strategy": "6 countries provide global interest rate regime context beyond US-only data",
    "expected_output": "4-6 semantic features capturing global monetary policy coordination/divergence patterns"
  },

  "fetch_script": "scripts/fetch_multi_country_features.py"
}
