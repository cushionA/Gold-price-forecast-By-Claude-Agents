{
  "status": "in_progress",
  "phase": "phase2_submodel_extra",
  "current_feature": "yield_curve",
  "current_attempt": 6,
  "resume_from": "builder_model",
  "error_context": "",
  "user_action_required": false,
  "datachecker_status": "PASS",
  "architect_status": "completed",
  "builder_model_status": "notebook_generated",
  "evaluator_status": "yield_curve_attempt5_gate3_fail_automation_continue",
  "retry_context": {
    "feature": "yield_curve",
    "max_attempt": 7,
    "automation_test": true,
    "note": "Automation pipeline test: run yield_curve attempts 5-7. ALWAYS continue to next attempt regardless of evaluator decision (automation_test=True). Do NOT declare no_further_improvement. After evaluating attempt N: continue to architect -> builder_model -> submit_and_monitor(max_loops=1). STOP after evaluating attempt 7."
  },
  "auto_resume_remaining": 2,
  "current_submodel": "real_rate",
  "parallel_submodel": {
    "feature": "temporal_context",
    "attempt": 1,
    "phase": "phase2_submodel",
    "status": "completed",
    "architect_status": "completed",
    "builder_data_status": "completed",
    "builder_model_status": "fixed_parameter_extraction",
    "evaluator_status": "gate3_pass_all_criteria",
    "resume_from": null,
    "design_doc": "docs/design/temporal_context_transformer_1.md",
    "notebook_path": "notebooks/temporal_context_1/"
  },
  "git_branch": "develop",
  "git_workflow_enabled": true,
  "feature_queue": [],
  "completed_features": [
    "dxy",
    "vix",
    "technical",
    "cross_asset",
    "yield_curve",
    "etf_flow",
    "inflation_expectation",
    "cny_demand",
    "options_market",
    "temporal_context",
    "regime_classification"
  ],
  "kaggle_kernel": "bigbigzabuton/gold-yield-curve-model-attempt-6",
  "submitted_at": "2026-02-22T09:54:19.499581",
  "baseline_metrics": {
    "test_mae": 0.7139,
    "test_direction_accuracy": 0.4354,
    "test_sharpe_ratio": -1.696
  },
  "phase2_complete": true,
  "phase2_summary": "All 9 features + options_market processed. 8 submodels completed (Gate 3 PASS), 1 auto-evaluated (dxy), 1 no further improvement (real_rate). options_market attempt 2 PASS via MAE (-0.1562, 15.6x threshold). Ready for Phase 3: Meta-Model Construction with expanded feature set.",
  "next_phase": null,
  "options_market_evaluation": "completed_all_gates_pass_attempt3_best",
  "evaluation_history": {
    "real_rate": {
      "attempt_1": {
        "gate1": false,
        "gate2": true,
        "gate3": false,
        "decision": "attempt+1",
        "primary_failures": [
          "overfit_ratio=2.69",
          "autocorr>0.99",
          "ablation_no_improvement"
        ]
      },
      "attempt_2": {
        "gate1": null,
        "gate2": null,
        "gate3": null,
        "decision": "attempt+1",
        "primary_failures": [
          "optuna_all_trials_pruned",
          "no_completed_trials",
          "gru_convergence_failure"
        ],
        "note": "All 20 Optuna trials pruned. GRU failed to converge. Switched to multi-country Transformer."
      },
      "attempt_3": {
        "gate1": true,
        "gate2": true,
        "gate3": false,
        "decision": "attempt+1",
        "primary_failures": [
          "gate3_mae_degradation_all_folds",
          "gate3_da_marginal_miss_0.48pct",
          "gate3_sharpe_unstable"
        ],
        "primary_successes": [
          "overfit_1.28",
          "MI_increase_23.8pct",
          "30_optuna_trials"
        ],
        "note": "Multi-country Transformer solved overfitting. Information exists (MI+23.8%) but forward-fill step function degrades MAE. Switching to PCA+interpolation for Attempt 4."
      },
      "attempt_4": {
        "gate1": true,
        "gate2": true,
        "gate3": false,
        "decision": "no_further_improvement",
        "primary_failures": [
          "gate3_all_metrics_degraded_all_folds",
          "gate3_da_delta=-1.96%",
          "gate3_mae_delta=+0.078",
          "gate3_sharpe_delta=-0.219"
        ],
        "primary_successes": [
          "MI_increase_10.29pct",
          "VIF_submodel_1.33",
          "stability_0.135"
        ],
        "note": "PCA + Cubic Spline. Gate 2 PASS but Gate 3 FAIL on all metrics in all 5 folds. Monthly-to-daily frequency mismatch is fundamental. Declared no_further_improvement."
      },
      "attempt_5": {
        "gate1": true,
        "gate2": true,
        "gate3": false,
        "decision": "no_further_improvement",
        "primary_failures": [
          "gate3_all_metrics_degraded",
          "gate3_da_delta=-2.53%",
          "gate3_mae_delta=+0.160",
          "gate3_sharpe_delta=-0.709"
        ],
        "primary_successes": [
          "MI_increase_39.3pct",
          "VIF_true_3.08",
          "stability_0.132"
        ],
        "note": "Markov Regime + CUSUM State Features. Highest MI (+39.3%) but worst Gate 3 degradation. 7 state features gave XGBoost more noise to overfit on. 5 attempts exhausted. Proceeding to dxy."
      },
      "attempt_6": {
        "gate1": true,
        "gate2": false,
        "gate3": false,
        "decision": "no_further_improvement",
        "primary_failures": [
          "gate2_mi_increase=1.95pct_below_5pct",
          "gate3_da_delta=-0.574pct",
          "gate3_sharpe_delta=-0.249",
          "gate3_mae_delta=-0.00074_below_0.01_threshold"
        ],
        "primary_successes": [
          "gate1_all_pass",
          "autocorr_bond_vol_0.899_below_0.95",
          "autocorr_momentum_0.769_below_0.95",
          "VIF_max_1.18",
          "cross_correlation_0.065_nearly_orthogonal",
          "stability_0.139_below_0.15"
        ],
        "note": "Deterministic bond vol regime + momentum persistence. US-only daily DFII10 data. Gate 1 PASS, Gate 2 FAIL (MI +1.95%), Gate 3 FAIL (DA -0.57pp, Sharpe -0.25, MAE -0.0007). 6 consecutive Gate 3 failures across fundamentally different approaches. Information in DFII10 derivatives beyond raw daily change is redundant with existing submodel features. No_further_improvement permanent."
      },
      "attempt_7": {
        "gate1": true,
        "gate2": true,
        "gate3": true,
        "decision": "gate3_pass_sharpe_user_continue_to_attempt_8",
        "primary_successes": [
          "gate1_all_pass_overfit_1.0",
          "gate2_mi_increase=+10.92pct_proper_calculation",
          "gate2_vif_max_1.21_excellent_orthogonality",
          "gate2_stability_max_0.087_well_below_0.15",
          "gate3_sharpe_delta=+0.329_6.6x_threshold",
          "gate3_sharpe_improved_3_of_4_folds"
        ],
        "primary_failures": [
          "gate3_da_delta=-0.00149_fail",
          "gate3_mae_delta=-0.00221_below_0.01_threshold",
          "rr_slope_level_z_autocorr=0.937_high"
        ],
        "note": "Gate 3 PASS via Sharpe (+0.329, 6.6x threshold, 3/4 folds). DA marginally fails (-0.00149pp). User requested attempt 8 to improve DA while maintaining Sharpe. Improvement: remove rr_slope_level_z (high autocorr), add slope/curvature momentum-direction features."
      },
      "attempt_8": {
        "gate1": true,
        "gate2": true,
        "gate3": true,
        "decision": "gate3_pass_mae_attempt+1_to_9",
        "primary_successes": [
          "gate3_mae_delta=-0.0203_2.03x_threshold",
          "gate1_all_pass_overfit_1.0",
          "gate2_vif_max_1.214_excellent",
          "mae_improved_2_of_3_folds"
        ],
        "primary_failures": [
          "gate3_sharpe_delta=-0.260_reversed_from_attempt_7_+0.329",
          "gate3_da_delta=-0.01471_worse_than_attempt_7",
          "sharpe_improved_only_1_of_3_folds"
        ],
        "note": "Gate 3 PASS via MAE (-0.0203, 2.03x threshold). Removing rr_slope_level_z traded Sharpe gain for MAE gain. Key insight: rr_slope_level_z is essential for Sharpe but hurts MAE. Attempt 9 goal: retain all 4 attempt 7 features + add 5th momentum feature."
      },
      "attempt_9": {
        "gate1": true,
        "gate2": true,
        "gate3": true,
        "decision": "gate3_pass_mae_but_worse_than_7_and_8",
        "primary_successes": [
          "gate3_mae_delta=-0.0141_1.4x_threshold",
          "gate1_all_pass_overfit_1.0",
          "gate2_vif_max_1.24_excellent",
          "new_interaction_feature_low_autocorr_0.059"
        ],
        "primary_failures": [
          "gate3_sharpe_delta=-0.186_worse_than_attempt_8_-0.260",
          "gate3_da_delta=-0.0173_worst_of_attempts_7_8_9",
          "gate3_mae_delta=-0.0141_weaker_than_attempt_8_-0.0203",
          "strictly_worse_than_attempt_8_on_all_metrics",
          "combination_strategy_counterproductive"
        ],
        "note": "Gate 3 PASS via MAE (-0.0141, 1.4x threshold). However, attempt 9 is STRICTLY WORSE than attempt 8 on ALL metrics (MAE -0.0141 vs -0.0203, Sharpe -0.186 vs -0.260, DA -0.0173 vs -0.01471). Adding rr_slope_level_z back + interaction feature degraded everything vs attempt 8. 3-attempt sequence (7,8,9) confirms irreconcilable Sharpe-MAE tradeoff. Evaluator recommends attempt 7 as final output. Continuing to attempt 10 per user directive (max_attempt=11)."
      }
    },
    "vix": {
      "attempt_1": {
        "gate1": true,
        "gate2": false,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate3_da_delta=+0.96%",
          "gate3_sharpe_delta=+0.289",
          "feature_importance=14.7%",
          "consistent_4_of_5_folds"
        ],
        "primary_failures": [
          "gate2_mi_increase=0.68%_below_5%",
          "gate2_vif_inf_base_features",
          "gate3_mae_degraded_+0.016"
        ],
        "note": "HMM regime detection with 3 components. Gate 2 MI test fails but Gate 3 ablation convincingly passes on DA and Sharpe. MI test likely underestimates nonlinear regime-based information."
      }
    },
    "technical": {
      "attempt_1": {
        "gate1": true,
        "gate2": false,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate3_mae_delta=-0.1824_18x_threshold",
          "mae_improved_5_of_5_folds",
          "feature_importance_regime_prob_7.96pct_rank2",
          "mi_increase_21.97pct",
          "submodel_vif_max_3.30"
        ],
        "primary_failures": [
          "gate2_stability_regime_prob_0.2115_above_0.15",
          "gate3_da_delta=+0.05pct_below_threshold",
          "gate3_sharpe_delta=-0.092"
        ],
        "note": "GLD 2D HMM with z-score and GK volatility. Gate 3 PASS via MAE (-0.1824, 18x threshold, 5/5 folds). Regime_prob ranked #2 in feature importance."
      }
    },
    "cross_asset": {
      "attempt_1": {
        "gate1": null,
        "gate2": null,
        "gate3": null,
        "decision": "attempt+1",
        "primary_failures": [
          "datachecker_reject_autocorr>0.99"
        ],
        "note": "Rejected by datachecker for autocorrelation > 0.99. Switched to deterministic HMM approach."
      },
      "attempt_2": {
        "gate1": true,
        "gate2": false,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate3_da_delta=+0.76%",
          "gate3_mae_delta=-0.0866_8.7x_threshold",
          "mae_improved_4_of_5_folds",
          "sharpe_improved_4_of_5_folds",
          "MI_increase_16.16%",
          "VIF_max_1.66"
        ],
        "primary_failures": [
          "gate2_stability_regime_prob_0.1561_above_0.15",
          "gate3_sharpe_delta=+0.040_below_0.05"
        ],
        "note": "Deterministic HMM with 3-state regime detection on cross-asset correlations. Gate 3 PASS on DA (+0.76%) and MAE (-0.0866, 8.7x threshold)."
      }
    },
    "yield_curve": {
      "attempt_1": {
        "gate1": false,
        "gate2": false,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate3_mae_delta=-0.0693_6.9x_threshold",
          "mae_improved_4_of_5_folds"
        ],
        "primary_failures": [
          "gate1_yc_regime_prob_constant_std_1e-11",
          "gate2_mi_increase_0.37pct_below_5pct"
        ],
        "note": "HMM 2-state yield curve model. yc_regime_prob excluded (constant). Gate 3 PASS via MAE (-0.0693, 6.9x threshold, 4/5 folds)."
      },
      "attempt_2": {
        "gate1": true,
        "gate2": true,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate1_all_pass_no_constant_columns",
          "gate2_mi_increase=+15.17pct_all_3_criteria_pass",
          "gate2_vif_max_1.74_excellent_orthogonality",
          "gate2_stability_max_0.149_all_pass",
          "gate3_mae_delta=-0.0127_1.27x_threshold",
          "yc_10y3m_velocity_z_rank_6_of_44_new_valuable_signal",
          "fold_5_dramatic_improvement_DA_+4.85pp_MAE_-0.23_Sharpe_+2.16"
        ],
        "primary_failures": [
          "gate3_da_delta=-1.08pct_fail",
          "gate3_sharpe_delta=-0.015_fail",
          "gate3_mae_consistency_2_of_5_folds_only",
          "gate3_mae_weaker_than_attempt_1_-0.013_vs_-0.069"
        ],
        "note": "Deterministic 4-feature z-score approach (no HMM). First yield_curve attempt to pass all 3 Gates. Gate 2 MI +15.17% (40x improvement over attempt 1's 0.37%). Gate 3 PASS via MAE (-0.0127, 1.27x) but weaker than attempt 1 (-0.0693, 6.9x). yc_10y3m_velocity_z ranked 6th in feature importance (new signal). Strong recent-period performance (fold 5) but inconsistent across earlier folds."
      },
      "attempt_3": {
        "gate1": false,
        "gate2": true,
        "gate3": false,
        "decision": "no_further_improvement",
        "primary_successes": [
          "gate2_mi_increase=+6.49pct_passes_5pct",
          "gate2_vif_max_1.24_excellent_orthogonality",
          "gate2_stability_max_0.1477_all_pass",
          "50_optuna_trials_completed"
        ],
        "primary_failures": [
          "gate1_yc_spread_level_z_autocorr_0.9937_above_0.95",
          "gate3_da_delta=-1.57pp_all_3_metrics_fail",
          "gate3_sharpe_delta=-0.233_degradation",
          "gate3_mae_delta=+0.005_reversal_from_attempt2_-0.013",
          "strictly_worse_than_attempt_2_on_all_gate3_metrics",
          "mae_trend_declining_0.069_0.013_-0.005"
        ],
        "note": "Deterministic 4-feature z-score with optimized windows (356-day level, 13-day vol). Gate 1 FAIL: yc_spread_level_z autocorr 0.9937 (near-constant level variable). Gate 2 PASS (MI +6.49%). Gate 3 FAIL: all 3 metrics degraded vs v2 baseline (DA -1.57pp, Sharpe -0.233, MAE +0.005). Strictly worse than attempt 2 on every Gate 3 metric. MAE trend declining across 3 attempts (6.9x -> 1.27x -> negative). No further improvement justified."
      },
      "attempt_4": {
        "gate1": true,
        "gate2": true,
        "gate3": false,
        "decision": "no_further_improvement",
        "primary_successes": [
          "gate1_all_4_features_pass_autocorr_max_0.773",
          "gate2_vif_max_1.07_excellent_orthogonality",
          "gate2_stability_all_pass_max_0.040",
          "gate2_mi_increase=+27.14pct_vs_production_att2",
          "50_optuna_trials_completed",
          "2nd_order_dynamics_economically_distinct_from_att2"
        ],
        "primary_failures": [
          "gate3_da_delta_avg=-1.47pp_0_of_3_folds",
          "gate3_sharpe_delta_avg=-0.464_0_of_3_folds",
          "gate3_mae_delta_avg=+0.005_1_of_3_folds",
          "all_3_metrics_degraded_every_fold",
          "yc_mom_divergence_z_0.62_corr_with_existing_yc_spread_velocity_z",
          "2_consecutive_gate3_fails_attempts_3_and_4"
        ],
        "local_eval": {
          "fold1": {
            "da_delta_pp": -0.815,
            "mae_delta": -0.0105,
            "sharpe_delta": -0.5424
          },
          "fold2": {
            "da_delta_pp": -3.055,
            "mae_delta": 0.02493,
            "sharpe_delta": -0.5357
          },
          "fold3": {
            "da_delta_pp": -0.543,
            "mae_delta": 0.00088,
            "sharpe_delta": -0.3135
          },
          "avg": {
            "da_delta_pp": -1.471,
            "mae_delta": 0.0051,
            "sharpe_delta": -0.464
          }
        },
        "note": "Acceleration + Structural Decomposition (2nd-order dynamics). 4 features: yc_spread_accel_z (-0.507), yc_curv_change_z (-0.186), yc_mom_divergence_z (0.773), yc_vol_ratio_chg_z (0.152). Gate 1 PASS (all <0.95). Gate 2 PASS: VIF max 1.07, stability max 0.040, MI +27.14% vs production att2. Gate 3 FAIL: consistent degradation across all 3 local walk-forward folds (DA avg -1.47pp, Sharpe avg -0.46, MAE avg +0.005). Despite excellent feature quality, 2nd-order dynamics add noise not captured by simple velocity/curvature. Partial redundancy: yc_mom_divergence_z corr=0.62 with existing yc_spread_velocity_z. Pattern: high MI but Gate 3 fail is classic feature redundancy signature. 2 consecutive Gate 3 failures (att3 and att4) with consistent degradation confirms no further improvement possible. Attempt 2 confirmed as best yield_curve submodel."
      },
      "attempt_5": {
        "gate1": true,
        "gate2": true,
        "gate3": false,
        "decision": "no_further_improvement_FINAL",
        "primary_successes": [
          "gate1_all_pass_autocorr_max_0.074_near_white_noise",
          "gate1_overfit_ratio_1.0_perfect",
          "gate2_mi_increase=+5.33pct_barely_passes",
          "gate2_vif_max_1.47_excellent_orthogonality",
          "gate2_stability_max_0.146_passes",
          "30_optuna_trials_completed",
          "max_correlation_with_att2_only_0.073_most_orthogonal_approach_ever"
        ],
        "primary_failures": [
          "gate3_da_delta=-0.61pp_fail_threshold_+0.5pp",
          "gate3_sharpe_delta=-0.104_fail_threshold_+0.05",
          "gate3_mae_delta=+0.013_fail_threshold_-0.01",
          "all_3_gate3_metrics_degraded_vs_att2_baseline",
          "only_2_of_5_folds_improved_on_any_metric",
          "fold5_2023_2025_worst_da_-1.79pp_sharpe_-0.28",
          "yc_corr_long_mid_z_and_yc_corr_1y10y_z_mi=0.000_zero_information",
          "3rd_consecutive_gate3_fail_after_att2"
        ],
        "gate3_details": {
          "da_delta_pp": -0.61,
          "sharpe_delta": -0.1044,
          "mae_delta": 0.012669,
          "da_improved_folds": "2/5",
          "sharpe_improved_folds": "2/5",
          "mae_improved_folds": "2/5",
          "fold1": {
            "da_delta_pp": 1.28,
            "sharpe_delta": 0.8688,
            "mae_delta": -0.005467
          },
          "fold2": {
            "da_delta_pp": -0.26,
            "sharpe_delta": 0.373,
            "mae_delta": -0.012487
          },
          "fold3": {
            "da_delta_pp": -2.56,
            "sharpe_delta": -0.9512,
            "mae_delta": 0.015055
          },
          "fold4": {
            "da_delta_pp": 0.26,
            "sharpe_delta": -0.5343,
            "mae_delta": 0.019037
          },
          "fold5": {
            "da_delta_pp": -1.79,
            "sharpe_delta": -0.2783,
            "mae_delta": 0.047205
          },
          "strategy": "REPLACEMENT: baseline WITH att2 yield_curve vs extended WITH att5 yield_curve"
        },
        "note": "Cross-Tenor Correlation Dynamics (daily change in 45-day rolling cross-tenor correlations). 3 features: yc_corr_long_short_z, yc_corr_long_mid_z, yc_corr_1y10y_z. Most orthogonal approach ever (max corr=0.073 with att2). Gate 1 PASS (autocorr max 0.074, excellent). Gate 2 borderline PASS (MI +5.33%, only yc_corr_long_short_z has non-zero MI, two features are zero). Gate 3 FAIL: DA -0.61pp, Sharpe -0.104, MAE +0.013. All metrics degraded. 3rd consecutive Gate 3 failure. Even with near-perfect orthogonality, cross-tenor correlations add noise rather than signal. The meta-model cannot benefit from this information type. FINAL: attempt 2 is the permanent best yield_curve submodel. 6 remaining attempts (6-11) skipped per evaluator authority.",
        "evaluation_script": "scripts/evaluate_yield_curve_5.py",
        "evaluation_json": "logs/evaluation/yield_curve_5_gate_evaluation.json"
      }
    },
    "etf_flow": {
      "attempt_1": {
        "gate1": true,
        "gate2": false,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate3_sharpe_delta=+0.377_7.5x_threshold",
          "gate3_mae_delta=-0.0436_4.4x_threshold",
          "dual_gate3_pass_sharpe_and_mae"
        ],
        "primary_failures": [
          "gate2_mi_increase=1.58%_below_5%",
          "gate2_vif_regime_prob=12.47_above_10"
        ],
        "note": "2D HMM (3-state). Gate 3 PASS on both Sharpe (+0.377) and MAE (-0.0436). Only submodel with dual Gate 3 pass."
      }
    },
    "inflation_expectation": {
      "attempt_1": {
        "gate1": true,
        "gate2": true,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate2_mi_increase=+10.94%",
          "gate3_da_delta=+0.57%",
          "gate3_sharpe_delta=+0.1516_3x_threshold",
          "first_submodel_all_3_gates_pass"
        ],
        "primary_failures": [
          "gate3_mae_delta=+0.0526_degraded"
        ],
        "note": "First submodel to pass all 3 gates. 2D HMM (3-state) on IE dynamics."
      }
    },
    "cny_demand": {
      "attempt_1": {
        "gate1": true,
        "gate2": false,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate3_mae_delta=-0.0658_6.6x_threshold",
          "cny_momentum_z_rank4_5.57pct"
        ],
        "primary_failures": [
          "gate2_mi_increase=0.09%_below_5%",
          "gate3_da_delta=-2.06%_worst_of_any_passing",
          "gate3_sharpe_delta=-0.593_worst_of_any_passing"
        ],
        "note": "Weakest Gate 3 pass. Gate 3 PASS via MAE (-0.0658, 6.6x threshold)."
      },
      "attempt_2": {
        "gate1": true,
        "gate2": false,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate3_da_delta=+1.53%_5_of_5_folds",
          "gate3_sharpe_delta=+0.217_5_of_5_folds",
          "reverses_attempt_1_da_degradation",
          "reverses_attempt_1_sharpe_degradation",
          "VIF_1.14_excellent_orthogonality",
          "stability_0.134_below_0.15"
        ],
        "primary_failures": [
          "gate2_mi_increase=-0.13%_below_5%",
          "gate3_mae_delta=-0.0008_below_0.01_threshold",
          "low_feature_importance_rank_22.4_of_25"
        ],
        "note": "Dramatic improvement over attempt 1. Deterministic CNY-CNH spread z-score. Gate 3 PASS via DA (+1.53pp, 3.1x threshold, 5/5 folds) and Sharpe (+0.217, 4.3x threshold, 5/5 folds). Reverses attempt 1's DA degradation (-2.06%) and Sharpe degradation (-0.593). Should replace attempt 1 output in Kaggle dataset."
      }
    },
    "options_market": {
      "attempt_1": {
        "gate1": true,
        "gate2": true,
        "gate3": false,
        "decision": "attempt+1",
        "primary_successes": [
          "gate2_mi_increase=+17.12%"
        ],
        "primary_failures": [
          "gate3_da_delta=-1.05%_all_5_folds_degraded"
        ],
        "note": "HMM 3-state on SKEW/GVZ with 3 output columns. Information exists but too noisy."
      },
      "attempt_2": {
        "gate1": true,
        "gate2": false,
        "gate3": true,
        "decision": "completed_automation_test_continue",
        "primary_successes": [
          "gate3_mae_delta=-0.1562_15.6x_threshold",
          "dimensionality_reduction_3to1_successful"
        ],
        "primary_failures": [
          "gate2_mi_increase=4.96%_marginally_below_5%",
          "gate2_stability=0.1555_marginally_above_0.15",
          "gate3_da_delta=-0.0024_negative",
          "gate3_sharpe_delta=-0.1413_negative"
        ],
        "note": "Single column output. Gate 3 PASS via MAE (-0.1562, 15.6x threshold, 4/5 folds). automation_test: continuing to attempt 3 to improve Gate 2 compliance and DA/Sharpe."
      },
      "attempt_3": {
        "gate1": true,
        "gate2": true,
        "gate3": true,
        "decision": "completed_best",
        "primary_successes": [
          "gate1_all_pass_autocorr_0.9728_0.9781_below_0.99",
          "gate2_mi_increase=5.42%_above_5%_threshold",
          "gate2_vif_max_2.4453_below_10",
          "gate2_stability_max_0.1324_below_0.15_FIXED_from_0.1555",
          "gate3_da_delta=+0.86pp_1.7x_threshold_5_of_5_folds",
          "gate3_da_improved_all_5_folds_consistent",
          "first_options_market_attempt_to_pass_all_3_gates",
          "options_regime_smooth_rank_8.2_of_25_avg",
          "options_gvz_momentum_z_rank_20_of_25_avg"
        ],
        "primary_failures": [
          "gate3_sharpe_delta=+0.0294_below_0.05_threshold",
          "gate3_mae_delta=-0.0020_below_0.01_threshold",
          "options_gvz_momentum_z_low_individual_mi_0.000141"
        ],
        "gate2_details": {
          "mi_increase_pct": "5.42%",
          "mi_base_sum_23features": 0.244142,
          "mi_extended_sum_25features": 0.257378,
          "vif_options_regime_smooth": 2.4453,
          "vif_options_gvz_momentum_z": 1.7052,
          "stability_options_regime_smooth": 0.1324,
          "stability_options_gvz_momentum_z": 0.1158,
          "strategy": "REPLACEMENT vs 23-feature baseline (no options_market attempt 2)"
        },
        "gate3_details": {
          "da_delta_pp": 0.86,
          "sharpe_delta": 0.0294,
          "mae_delta": -0.002,
          "da_improved_folds": "5/5",
          "sharpe_improved_folds": "3/5",
          "mae_improved_folds": "4/5",
          "baseline_24_da": "55.04%",
          "extended_25_da": "55.90%",
          "strategy": "REPLACEMENT: 24-feature (with attempt 2) vs 25-feature (attempt 3 replaces attempt 2)"
        },
        "note": "BEST options_market attempt. First to pass ALL 3 gates. 2-column: EMA-smoothed HMM regime (ema_span=7, 2-state) + GVZ EMA momentum z-score (short=9, long=24, window=62). Gate 2 fully compliant (MI 5.42%, stability 0.1324 -- both criteria fixed from attempt 2). Gate 3 PASS via DA (+0.86pp, consistent 5/5 folds). Declared completed_best. STOP automation_test -- no further attempts needed.",
        "evaluation_script": "scripts/evaluate_options_market_3.py",
        "evaluation_json": "logs/evaluation/options_market_3_gate_evaluation.json"
      }
    },
    "dxy": {
      "attempt_1": {
        "gate1": true,
        "gate2": true,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate1_all_pass",
          "gate2_mi_increase=+6.24%",
          "gate2_vif_max_2.92",
          "gate2_stability_0.149",
          "gate3_da_delta=+0.73%_4_of_5_folds",
          "gate3_sharpe_delta=+0.2546_5.1x_threshold_4_of_5_folds",
          "dxy_vol_z_ranked_6_of_43_features",
          "third_submodel_all_3_gates_pass"
        ],
        "primary_failures": [
          "gate3_mae_delta=+0.0084_degraded",
          "dxy_regime_prob_extremely_skewed_mean_0.0006"
        ],
        "note": "HMM-based DXY submodel. All 3 gates PASS. DA +0.73pp (1.5x threshold), Sharpe +0.2546 (5.1x threshold). dxy_vol_z most informative (rank 6/43). Only fold 5 (2023-2025 high-vol) degraded."
      }
    },
    "regime_classification": {
      "attempt_1": {
        "gate1": true,
        "gate2": false,
        "gate3": true,
        "decision": "completed",
        "primary_successes": [
          "gate3_da_delta=+1.34%_2.7x_threshold_4_of_5_folds",
          "gate3_sharpe_delta=+0.377_7.5x_threshold_4_of_5_folds",
          "VIF_3.90_excellent_orthogonality",
          "stability_0.058_well_below_0.15",
          "regime_balance_30_70_healthy",
          "avg_duration_10_days_in_5_30_range"
        ],
        "primary_failures": [
          "gate2_mi_increase=0.77%_below_5%",
          "gate3_mae_delta=-0.001_below_0.01_threshold",
          "low_feature_importance_rank_18_25_of_28"
        ],
        "note": "GMM K=2 (Risk-Off/Risk-On) with PCA (2 components), diagonal covariance. Gate 2 FAIL on MI but Gate 3 convincingly PASS on DA and Sharpe. Sharpe +0.377 ties with etf_flow for highest Gate 3 Sharpe improvement. DA +1.34% is 3rd highest after cny_demand attempt 2 (+1.53%) and vix (+0.96%). Gate 2 overridden per precedent."
      }
    }
  },
  "meta_model_history": {
    "attempt_1": {
      "decision": "attempt+1",
      "test_da": 0.541,
      "test_hcda": 0.543,
      "test_mae": 0.978,
      "test_sharpe": 0.428,
      "train_test_da_gap_pp": 40.15,
      "targets_passed": "0/4",
      "primary_failures": [
        "all_4_targets_missed",
        "catastrophic_overfitting_train_da_94.3_val_da_46.9"
      ],
      "improvement_plan": "Drop price-level features, use reg:squarederror, fix data pipeline, strengthen regularization"
    },
    "attempt_2": {
      "decision": "attempt+1",
      "test_da": 0.5726,
      "test_hcda": 0.5526,
      "test_mae": 0.6877,
      "test_sharpe": 1.5835,
      "train_test_da_gap_pp": 5.54,
      "targets_passed": "3/4",
      "primary_successes": [
        "DA_57.26%_passes_56%_target",
        "MAE_0.6877%_passes_0.75%_target",
        "Sharpe_1.5835_passes_0.80_target"
      ],
      "primary_failures": [
        "HCDA_55.26%_misses_60%_target_by_4.74pp"
      ],
      "improvement_plan": "Improve HCDA via calibration and ensemble"
    },
    "attempt_3": {
      "decision": "attempt+1",
      "test_da": 0.533,
      "test_hcda": 0.5921,
      "test_mae": 0.7173,
      "test_sharpe": 1.2201,
      "train_test_da_gap_pp": 25.96,
      "targets_passed": "2/4",
      "primary_successes": [
        "HCDA_improved_to_59.21%"
      ],
      "primary_failures": [
        "DA_regressed_to_53.30%",
        "severe_overfitting_25.96pp_gap"
      ],
      "improvement_plan": "Revert to single model, post-hoc calibration"
    },
    "attempt_4": {
      "decision": "feature_expansion",
      "test_da": 0.5535,
      "test_hcda": 0.4286,
      "test_mae": 0.6865,
      "test_sharpe": 1.628,
      "train_test_da_gap_pp": 6.28,
      "targets_passed": "1/4",
      "primary_successes": [
        "Sharpe_1.63_passes_target"
      ],
      "primary_failures": [
        "HCDA_calibrated_42.86%_catastrophic_failure",
        "DA_55.35%_misses_by_0.65pp"
      ],
      "improvement_plan": "Abandon calibration, expand features with options_market"
    },
    "attempt_5": {
      "decision": "no_further_improvement",
      "test_da": 0.5677,
      "test_hcda": 0.5761,
      "test_mae": 0.9521,
      "test_sharpe": 1.8343,
      "train_test_da_gap_pp": 7.35,
      "targets_passed": "2/4",
      "primary_successes": [
        "Sharpe_1.83_best_ever_2.3x_target",
        "DA_56.77%_passes_target",
        "HCDA_improved_to_57.61%_from_55.26%",
        "overfitting_controlled_7.35pp"
      ],
      "primary_failures": [
        "HCDA_57.61%_still_2.39pp_below_60%_target",
        "MAE_0.952%_significantly_above_0.75%_target",
        "prediction_scale_20x_smaller_than_actuals"
      ],
      "note": "5 attempts exhausted. HCDA has never reached 60% in any attempt. MAE target infeasible with expanded test set including 2025-2026 extreme gold volatility. Model has genuine economic value (Sharpe 1.83) but cannot simultaneously satisfy all 4 targets. Decision: no_further_improvement."
    },
    "attempt_7": {
      "decision": "completed",
      "test_da": 0.6004,
      "test_hcda": 0.6413,
      "test_mae": 0.9429,
      "test_sharpe": 2.4636,
      "train_test_da_gap_pp": -5.28,
      "targets_passed": "3/4",
      "primary_successes": [
        "DA_60.04%_best_ever_4.04pp_above_target",
        "HCDA_64.13%_best_ever_4.13pp_above_target_first_time_passed",
        "Sharpe_2.46_best_ever_3.1x_target",
        "no_overfitting_test_outperforms_train",
        "temporal_context_ranked_3_5.78pct_importance",
        "first_attempt_to_beat_naive_always_up"
      ],
      "primary_failures": [
        "MAE_0.9429%_above_0.75%_target_structurally_infeasible"
      ],
      "note": "Best meta-model. 3/4 targets met (DA, HCDA, Sharpe). MAE target structurally infeasible with expanded 2025-2026 test set. Design doc success criteria satisfied."
    },
    "attempt_8": {
      "decision": "attempt+1",
      "test_da": 0.5873,
      "test_hcda": 0.6196,
      "test_mae": 0.9424,
      "test_sharpe": 2.064,
      "train_test_da_gap_pp": -7.08,
      "targets_passed_nominal": "3/4",
      "targets_passed_substantive": "0/4",
      "primary_failures": [
        "Ridge_meta_learner_prediction_collapse_std_0.0001",
        "DA_equals_naive_0.00pp_delta_zero_skill",
        "100%_positive_predictions_trivial",
        "5_of_6_regime_features_zero_importance",
        "all_base_models_near_coin_flip_DA"
      ],
      "primary_successes": [
        "280_optuna_trials_extensive_HPO",
        "no_overfitting_test_outperforms_train"
      ],
      "improvement_plan": "Revert to single XGBoost (attempt 7 arch), replace binary regime features with continuous interactions, try asymmetric loss for DA",
      "note": "Stacking (XGB+LGBM+CatBoost) with Ridge meta-learner collapsed to trivial constant predictor. Ridge alpha=90.37 shrunk all coefficients to near-zero. All nominal target passes are artifacts of always-positive prediction in bull market. Strictly worse than attempt 7 on all meaningful metrics."
    },
    "attempt_9": {
      "decision": "no_further_improvement",
      "test_da": 0.5873,
      "test_hcda": 0.6413,
      "test_mae": 0.9425,
      "test_sharpe": 2.06,
      "train_test_da_gap_pp": -7.08,
      "targets_passed_nominal": "3/4",
      "targets_passed_substantive": "0/4",
      "primary_failures": [
        "prediction_collapse_std_0.0006_37x_smaller_than_att7",
        "DA_equals_naive_0.00pp_delta_zero_skill",
        "100%_positive_predictions_trivial",
        "directional_loss_track_b_inferior_to_mse",
        "2_of_3_interaction_features_ranked_last",
        "all_metrics_regressed_from_attempt_7"
      ],
      "primary_successes": [
        "real_rate_x_temporal_rank_3_top_interaction",
        "100_optuna_trials_completed",
        "no_overfitting_test_outperforms_train"
      ],
      "dual_track_result": {
        "track_a_mse_composite": 0.6412,
        "track_b_directional_composite": 0.6137,
        "selected": "mse",
        "conclusion": "Directional loss provided no benefit"
      },
      "note": "Single XGBoost + 3 continuous interactions + dual-track MSE/directional + weight shift. Collapsed to identical failure mode as attempt 8 (100% positive predictions). All 3 targeted modifications failed to improve over attempt 7. 2 of 3 improvement attempts used, both regressing. Recommend accepting attempt 7 as final.",
      "attempt_10_recommendation": "NOT_RECOMMENDED. 2 consecutive attempts regressed. Same failure mode (trivial predictor) despite different approaches. >70% probability attempt 10 would also regress."
    },
    "attempt_10": {
      "decision": "no_further_improvement",
      "test_da": 0.5852,
      "test_hcda": 0.587,
      "test_mae": 0.949,
      "test_sharpe": 1.9977,
      "train_test_da_gap_pp": 6.38,
      "targets_passed": "2/4",
      "primary_failures": [
        "DA_regressed_-1.52pp_from_attempt_7",
        "HCDA_regressed_-5.43pp_from_attempt_7_now_FAIL",
        "Sharpe_regressed_-0.47_from_attempt_7",
        "MAE_regressed_+0.006_from_attempt_7",
        "cny_demand_spread_z_ranked_25_of_25_last"
      ],
      "primary_successes": [
        "no_prediction_collapse_std_0.096",
        "positive_pct_57.4%_genuine_variation",
        "DA_58.52%_still_above_56%_target",
        "Sharpe_2.00_still_above_0.80_target"
      ],
      "note": "Added cny_demand_spread_z (25 features). Feature ranked last (25/25) with importance 0.0376. All metrics regressed from attempt 7. Unlike attempts 8-9, model didn't collapse to trivial predictor â€” genuine variation exists. But added feature introduced noise that degraded HCDA from 64.13% to 58.70% (below 60% target). Attempt 7 confirmed as final meta-model."
    },
    "attempt_11": {
      "decision": "no_further_improvement",
      "test_da": 0.5568,
      "test_hcda": 0.5978,
      "test_mae": 0.9497,
      "test_sharpe": 1.52,
      "train_test_da_gap_pp": 9.31,
      "targets_passed": "1/4",
      "primary_failures": [
        "DA_55.68%_misses_56%_target_by_0.32pp",
        "HCDA_59.78%_misses_60%_target_by_0.22pp",
        "MAE_0.9497%_above_0.75%_target",
        "all_metrics_regressed_from_attempt_7",
        "DA_regressed_-4.36pp_from_attempt_7",
        "HCDA_regressed_-4.35pp_from_attempt_7",
        "Sharpe_regressed_-0.94_from_attempt_7"
      ],
      "primary_successes": [
        "Sharpe_1.52_above_0.80_target",
        "dxy_regime_prob_ranked_9_of_27",
        "100_optuna_trials_completed",
        "no_prediction_collapse"
      ],
      "note": "Added 3 DXY HMM features (27 total). All metrics regressed from attempt 7. DA dropped 4.36pp below target. HCDA dropped 4.35pp below target. Same pattern as attempts 8-10: additional features introduce noise that degrades the model. Attempt 7 (24 features) confirmed as final meta-model. 4 consecutive attempts (8,9,10,11) all regressed."
    },
    "attempt_12": {
      "decision": "no_further_improvement",
      "test_da": 0.5546,
      "test_hcda": 0.5978,
      "test_mae": 0.9532,
      "test_sharpe": 1.134,
      "train_test_da_gap_pp": 6.13,
      "targets_passed": "1/4",
      "primary_failures": [
        "DA_55.46%_misses_56%_target_by_0.54pp",
        "HCDA_59.78%_misses_60%_target_by_0.22pp",
        "MAE_0.9532%_above_0.75%_target",
        "all_metrics_regressed_from_attempt_7",
        "DA_regressed_-4.58pp_from_attempt_7",
        "HCDA_regressed_-4.35pp_from_attempt_7",
        "Sharpe_regressed_-1.33_from_attempt_7",
        "positive_pct_50.4%_lost_directional_bias"
      ],
      "primary_successes": [
        "Sharpe_1.13_above_0.80_target",
        "100_optuna_trials_completed",
        "no_prediction_collapse",
        "higher_samples_per_feature_118:1"
      ],
      "note": "Feature pruning experiment: 24->18 features (removed bottom 6 by gain-weighted importance, 4.91% total). Optuna found max_depth=4 (vs attempt 7's 2), compensating for fewer features with deeper trees. All metrics regressed. Positive prediction pct dropped from 87.3% to 50.4%, losing directional bias. 5 consecutive attempts (8-12) all regressed from attempt 7. Pruning hypothesis REJECTED: low-importance features were contributing useful regularization through feature competition."
    },
    "attempt_13": {
      "decision": "no_further_improvement",
      "test_da": 0.5349,
      "test_hcda": 0.5435,
      "test_mae": 0.9544,
      "test_sharpe": 0.1335,
      "train_test_da_gap_pp": 11.4,
      "targets_passed": "0/4",
      "primary_failures": [
        "DA_53.49%_worst_since_attempt_1_misses_56%_by_2.51pp",
        "HCDA_54.35%_worst_ever_misses_60%_by_5.65pp",
        "Sharpe_0.13_worst_ever_misses_0.80_target",
        "MAE_0.9544%_above_0.75%_target",
        "overfitting_11.40pp_gap_exceeds_10pp_threshold",
        "regime_classification_features_ranked_25_26_27_of_27",
        "max_depth_4_too_complex_vs_attempt_7_depth_2",
        "colsample_bytree_0.20_extremely_low"
      ],
      "primary_successes": [
        "100_optuna_trials_completed",
        "no_prediction_collapse"
      ],
      "note": "Added 3 regime_classification features (27 total). WORST result since attempt 1. All 4 targets FAIL. regime_classification features ranked last (25-27/27) with combined importance 8.3%. HPO selected max_depth=4 (vs attempt 7's 2), causing severe overfitting (11.4pp gap). 6 consecutive attempts (8-13) all regressed from attempt 7. Attempt 7 confirmed as permanent final meta-model."
    },
    "attempt_14": {
      "decision": "no_further_improvement",
      "test_da": 0.5742,
      "test_hcda": 0.6304,
      "test_mae": 0.9527,
      "test_sharpe": 1.16,
      "train_test_da_gap_pp": 4.59,
      "targets_passed": "3/4",
      "architecture": "XGBoost asymmetric_squared_error (alpha=3.28)",
      "primary_failures": [
        "MAE_0.9527%_above_0.75%_target",
        "DA_57.42%_below_attempt_7_60.04%_by_2.62pp",
        "HCDA_63.04%_below_attempt_7_64.13%_by_1.09pp",
        "Sharpe_1.16_below_attempt_7_2.46_by_1.30"
      ],
      "primary_successes": [
        "DA_57.42%_passes_56%_target",
        "HCDA_63.04%_passes_60%_target",
        "Sharpe_1.16_passes_0.80_target",
        "overfitting_4.59pp_best_ever_below_10pp",
        "3_of_4_targets_passed"
      ],
      "note": "Asymmetric squared error custom objective (alpha=3.28, penalizes DOWN misses 3.28x). Passes 3/4 targets same as attempt 7 but all absolute metrics are worse. Very low overfitting (4.59pp) suggests regularization benefit from asymmetric loss. XGBoost v3.1.0 sklearn API passes (y_true, y_pred) not (preds, DMatrix) for custom objectives."
    },
    "attempt_15": {
      "decision": "no_further_improvement",
      "test_da": 0.5459,
      "test_hcda": 0.663,
      "test_mae": 0.9544,
      "test_sharpe": 0.9,
      "train_test_da_gap_pp": 1.82,
      "targets_passed": "2/4",
      "architecture": "Ridge + XGBoost Weighted Average Ensemble (w=0.65)",
      "primary_failures": [
        "DA_54.59%_misses_56%_target_by_1.41pp",
        "MAE_0.9544%_above_0.75%_target",
        "DA_dropped_4.8pp_vs_XGB_only_component",
        "Ridge_hurt_overall_direction_accuracy"
      ],
      "primary_successes": [
        "HCDA_66.30%_best_ever_via_bootstrap_confidence",
        "Sharpe_0.90_passes_0.80_target",
        "overfitting_1.82pp_lowest_ever",
        "XGB_only_component_DA_59.39%_close_to_attempt_7"
      ],
      "note": "Ridge+XGB ensemble (65%/35%). Best-ever HCDA (66.30% via bootstrap) and lowest overfitting (1.82pp). But Ridge component hurt DA significantly (-4.8pp vs XGB-only). XGB-only scored DA=59.39%, Sharpe=2.52 (near attempt 7). Ensemble trades direction accuracy for lower variance. 8 consecutive attempts (8-15) all failed to beat attempt 7 overall."
    },
    "attempt_16": {
      "decision": "attempt+1",
      "test_da": 0.5852,
      "test_hcda": 0.6848,
      "test_mae": 0.9534,
      "test_sharpe": 1.76,
      "train_test_da_gap_pp": 1.07,
      "targets_passed": "3/4",
      "architecture": "LightGBM GBDT + Bootstrap confidence (5-seed) + OLS scaling",
      "primary_failures": [
        "MAE_0.9534%_above_0.75%_target",
        "DA_58.52%_below_attempt_7_60.04%_by_1.52pp",
        "Sharpe_1.76_below_attempt_7_2.46_by_0.70",
        "DA_0.44pp_below_naive_always_up_58.95%"
      ],
      "primary_successes": [
        "HCDA_68.48%_BEST_EVER_+4.35pp_above_attempt_7",
        "bootstrap_confidence_+8.70pp_hcda_improvement",
        "DA_58.52%_passes_56%_target",
        "Sharpe_1.76_passes_0.80_target",
        "overfitting_1.07pp_excellent",
        "genuine_prediction_variation_std_0.0481_positive_pct_65.5%"
      ],
      "improvement_plan": "XGBoost attempt 7 architecture + bootstrap confidence with data subsampling (10-15 models, 80% training data per model). Combine proven XGBoost base (DA 60%, Sharpe 2.46) with proven bootstrap HCDA technique (+8.70pp).",
      "note": "LightGBM + bootstrap achieves best-ever HCDA (68.48%) but LightGBM inferior to XGBoost on DA (-1.52pp) and Sharpe (-0.70). Bootstrap technique proven effective. Untried combination: XGBoost attempt 7 + bootstrap. 9 consecutive attempts (8-16) all failed to beat attempt 7 overall, but attempt 16 validates a new technique that may work on XGBoost."
    },
    "attempt_17": {
      "decision": "attempt+1",
      "test_da": 0.5873,
      "test_hcda": 0.5978,
      "test_mae": 0.9558,
      "test_sharpe": 1.96,
      "train_test_da_gap_pp": "N/A",
      "targets_passed": "2/4",
      "architecture": "XGBoost (attempt 7 params) + Bootstrap data subsampling (12 models, 80% data, 24 features)",
      "primary_failures": [
        "HCDA_59.78%_misses_60%_target_by_0.22pp",
        "MAE_0.9558%_above_0.75%_target",
        "DA_58.73%_below_attempt_7_60.04%_by_1.31pp",
        "Sharpe_1.96_below_attempt_7_2.46_by_0.50"
      ],
      "primary_successes": [
        "DA_58.73%_passes_56%_target",
        "Sharpe_1.96_passes_0.80_target",
        "no_prediction_collapse"
      ],
      "note": "XGBoost + 12-model data subsampling (24 features). Bootstrap HCDA failed on XGBoost -- too-uniform variance. HCDA dropped to 59.78% (below 60% target). All metrics regressed from attempt 7. 10 consecutive regressions (8-17)."
    },
    "attempt_18": {
      "decision": "no_further_improvement_FINAL",
      "test_da": 0.583,
      "test_hcda": 0.6304,
      "test_mae": 0.9527,
      "test_sharpe": 1.86,
      "train_test_da_gap_pp": 5.96,
      "targets_passed": "3/4",
      "architecture": "XGBoost (attempt 7 params) + Bootstrap data subsampling (12 models, 80% data) + real_rate submodel features (28 total features)",
      "primary_failures": [
        "MAE_0.9527%_above_0.75%_target",
        "DA_58.30%_below_attempt_7_60.04%_by_1.74pp",
        "HCDA_63.04%_below_attempt_7_64.13%_by_1.09pp",
        "Sharpe_1.86_below_attempt_7_2.46_by_0.60",
        "ALL_4_metrics_regressed_from_attempt_7",
        "DA_0.66pp_below_naive_always_up"
      ],
      "primary_successes": [
        "DA_58.30%_passes_56%_target",
        "HCDA_63.04%_passes_60%_target",
        "Sharpe_1.86_passes_0.80_target",
        "HCDA_improved_3.26pp_vs_attempt_17",
        "no_prediction_collapse_std_0.2132"
      ],
      "note": "FINAL ATTEMPT. Added 4 real_rate submodel features (28 total). rr_level_change_z ranked #2 (4.78%) but net effect negative -- all metrics regressed from attempt 7. 11 consecutive regressions (8-18). Attempt 7 confirmed as permanent final meta-model."
    }
  },
  "final_result": {
    "status": "completed",
    "best_attempt_overall": 7,
    "best_hcda_attempt": 16,
    "total_attempts": 18,
    "consecutive_regressions_from_best": 11,
    "best_attempt_rationale": "Attempt 7 confirmed as permanent final meta-model after 11 consecutive improvement attempts (8-18) all failed to beat it. No approach -- stacking, feature addition/pruning, asymmetric loss, ensemble methods, alternative GBDT, bootstrap subsampling -- could improve on attempt 7's combination of DA, HCDA, and Sharpe.",
    "improvement_attempts_summary": {
      "attempt_8": "Stacking + Ridge -- collapsed to constant predictor (FAIL)",
      "attempt_9": "Single XGB + interactions + directional loss -- collapsed to constant predictor (FAIL)",
      "attempt_10": "+cny_demand_spread_z (25 features) -- regressed on all metrics (DA -1.52pp, HCDA -5.43pp, Sharpe -0.47)",
      "attempt_11": "+3 DXY features (27 total) -- regressed on all metrics (DA -4.36pp, HCDA -4.35pp, Sharpe -0.94)",
      "attempt_12": "Feature pruning 24->18 -- regressed on all metrics (DA -4.58pp, HCDA -4.35pp, Sharpe -1.33)",
      "attempt_13": "+3 regime_classification features (27 total) -- worst result since attempt 1 (DA -6.55pp, HCDA -9.78pp, Sharpe -2.33)",
      "attempt_14": "Asymmetric squared error (alpha=3.28) -- 3/4 targets but all metrics below attempt 7 (DA -2.62pp, HCDA -1.09pp, Sharpe -1.30)",
      "attempt_15": "Ridge+XGB ensemble (65/35) -- 2/4 targets, HCDA 66.30% but DA -5.45pp",
      "attempt_16": "LightGBM + bootstrap -- 3/4 targets, BEST-EVER HCDA 68.48% but DA -1.52pp, Sharpe -0.70",
      "attempt_17": "XGBoost + 12-model bootstrap (24 feat) -- 2/4 targets, HCDA 59.78% bootstrap failed on XGBoost",
      "attempt_18": "XGBoost + 12-model bootstrap + real_rate (28 feat) -- 3/4 targets but ALL metrics below attempt 7",
      "conclusion": "Attempt 7 is the permanent final meta-model. 11 diverse improvement strategies all regressed."
    },
    "final_attempt_results": {
      "targets_passed": "3/4 (DA, HCDA, Sharpe)",
      "targets_failed": "1/4 (MAE - structurally infeasible)",
      "da": "60.04%",
      "hcda": "64.13%",
      "mae": "0.9429%",
      "sharpe": 2.4636
    },
    "vs_baseline": {
      "baseline_da": "43.54%",
      "baseline_hcda": "42.74%",
      "baseline_mae": "0.7139%",
      "baseline_sharpe": -1.696,
      "da_improvement": "+16.50pp",
      "hcda_improvement": "+21.39pp",
      "sharpe_improvement": "+4.160"
    },
    "vs_attempt_2": {
      "da_improvement": "+2.78pp",
      "hcda_improvement": "+8.87pp",
      "sharpe_improvement": "+0.88",
      "mae_delta": "+0.255 (different test set)"
    }
  },
  "meta_model_weekly_history": {
    "attempt_1": {
      "decision": "attempt+1",
      "test_da": 0.6608,
      "test_hcda": 0.6848,
      "test_mae": 2.0696,
      "test_sharpe": 2.0257,
      "train_test_da_gap_pp": -12.32,
      "targets_passed_nominal": "3/4",
      "targets_passed_substantive": "0/4",
      "primary_failures": [
        "trivial_always_positive_prediction",
        "DA_equals_naive_0.00pp_delta",
        "only_10_unique_predictions_out_of_457",
        "zero_trades_in_test",
        "MAE_2.07%_exceeds_1.70%_target"
      ],
      "primary_successes": [],
      "improvement_plan": "Non-overlapping training targets + naive-aware objective + relaxed regularization + centered targets",
      "note": "Model collapsed to trivial always-positive predictor. All nominal target passes (DA, HCDA, Sharpe) are artifacts of gold uptrend test period. Zero model skill demonstrated."
    },
    "attempt_2": {
      "decision": "attempt+1",
      "test_da": 0.6324,
      "test_hcda": 0.7935,
      "test_mae": 2.125,
      "test_sharpe_a": 0.7054,
      "test_sharpe_b": 0.9869,
      "train_test_da_gap_pp": -6.67,
      "da_vs_naive_pp": -2.84,
      "targets_passed_nominal": "2/4",
      "targets_passed_substantive": "0/4",
      "substantive_skill_tests": "3/5 (trade_activity, balance, variation pass; da_above_naive, diversity fail)",
      "primary_failures": [
        "DA_2.84pp_below_naive_66.08%",
        "negative_predictions_38.2%_correct_need_50%",
        "Sharpe_A_0.71_below_0.80_target",
        "MAE_2.125%_exceeds_1.70%_target",
        "HCDA_79.35%_equals_naive_on_HC_subset",
        "only_18_unique_predictions"
      ],
      "primary_successes": [
        "prediction_collapse_fixed_std_0.005_to_0.104",
        "66_position_changes_from_0",
        "positive_pct_100%_to_88%",
        "OLS_alpha_2.76_to_0.85_reasonable",
        "Optuna_top5_varied_DA_53-59%"
      ],
      "improvement_plan": "Fix HPO validation (91 samples too noisy), consider classification objective, calibrate negative prediction threshold",
      "note": "Constant-output collapse FIXED. Model produces genuine variation. But variation is net-harmful: negative predictions wrong 62% of time. DA skill -2.84pp (worse than Attempt 1's 0.00pp). Sharpe A dropped 2.03 to 0.71 due to harmful trades. Moved from 'no skill, no harm' to 'some variation, net harmful'."
    }
  },
  "kaggle_version": null,
  "last_updated": "2026-02-22T09:57:24.557242",
  "options_market_attempt3_result": {
    "decision": "completed_best",
    "production_columns": [
      "options_regime_smooth",
      "options_gvz_momentum_z"
    ],
    "replaces_attempt2_column": "options_risk_regime_prob",
    "production_file": "data/dataset_upload_clean/options_market.csv",
    "gate1": "PASS",
    "gate2": "PASS (MI 5.42%, stability 0.1324)",
    "gate3": "PASS (DA +0.86pp, 5/5 folds)",
    "note": "New 2-column output replaces 1-column attempt 2 output. Meta-model feature set changes from options_risk_regime_prob to options_regime_smooth+options_gvz_momentum_z. Kaggle dataset update needed before running new meta-model attempts."
  },
  "error_type": "unknown",
  "saved_meta_model_state": {
    "kaggle_kernel": "bigbigzabuton/gold-meta-model-attempt-17",
    "submitted_at": "2026-02-21T19:13:53.366514",
    "current_attempt": 17,
    "status": "results_fetched_awaiting_evaluator",
    "resume_from": "evaluator",
    "phase": "phase3_meta_model",
    "saved_at": "2026-02-21T19:23:27.590471"
  },
  "kaggle_results_fetched": true,
  "kaggle_results_path": "data/outputs/yield_curve_2/",
  "yield_curve_retry_result": {
    "best_attempt": 2,
    "final_attempt_evaluated": 5,
    "attempts_evaluated": [
      3,
      4,
      5
    ],
    "decision": "no_further_improvement_FINAL",
    "evaluator_decision_date": "2026-02-22",
    "rationale": "EVALUATOR FINAL: 3 consecutive Gate 3 failures (att3, att4, att5) with consistent degradation across ALL metrics confirm permanent no further improvement. Att5 (most orthogonal approach: cross-tenor correlations, max corr=0.073 with att2) Gate 3: DA -0.61pp, Sharpe -0.104, MAE +0.013. Even near-perfectly orthogonal features fail to improve meta-model performance. Gate 2 barely passed (MI +5.33%, only 1 of 3 features has non-zero MI). Fold 5 (most recent 2023-2025) showed worst degradation (DA -1.79pp, MAE +0.047). All 4 feature engineering paradigms tried: HMM regime (att1), velocity z-scores (att2, best), level variables (att3, fail), 2nd-order acceleration (att4, fail), cross-tenor correlation dynamics (att5, fail). No unexplored angles remain. Attempt 2 is the permanent final yield_curve submodel.",
    "production_submodel": "data/dataset_upload_clean/yield_curve.csv",
    "production_features_in_file": [
      "yc_regime_prob",
      "yc_spread_velocity_z",
      "yc_curvature_z"
    ],
    "retry_attempts_remaining_skipped": 6,
    "skip_rationale": "Evaluator authority exercised. 3 consecutive Gate 3 failures across fundamentally different approaches (level, 2nd-order, cross-tenor) exhausts all viable improvement axes. >95% probability any further attempt fails Gate 3.",
    "att5_gate3_summary": {
      "da_delta_pp": -0.61,
      "sharpe_delta": -0.104,
      "mae_delta": 0.013,
      "folds_any_improved": "2/5",
      "verdict": "FAIL all 3 criteria"
    }
  },
  "builder_data_status": "completed"
}