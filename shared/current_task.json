{
  "feature": "real_rate",
  "attempt": 1,
  "phase": "smoke_test",
  "source": "entrance",
  "data_source": "FRED: DFII10 (10-Year Treasury Inflation-Indexed Security, Constant Maturity)",
  "objective": "Extract latent dynamics of the real interest rate -- persistence, regime state, mean-reversion probability, and rate-of-change momentum -- to provide contextual signals that the meta-model cannot derive from the raw DFII10 level alone.",
  "requirements": "Build a submodel that captures the hidden state and dynamics of the US 10Y real interest rate. The submodel does NOT predict gold prices. Instead, it produces a small set of continuous features (3-5 dimensions) encoding: (1) whether the current real rate regime is 'high', 'low', or 'transitioning', (2) the persistence of recent rate changes (trending vs mean-reverting), and (3) the velocity and acceleration of rate movements relative to historical norms.",
  "theoretical_background": {
    "why_real_rate_matters": "Gold pays no yield. Its opportunity cost is the real (inflation-adjusted) interest rate. When real rates fall, gold becomes relatively more attractive; when they rise, yield-bearing assets dominate. This is the single strongest fundamental driver of gold prices, operating through an inverse relationship.",
    "what_baseline_misses": "The baseline XGBoost model receives only the raw DFII10 level as input. It cannot easily capture: (a) whether a rate change is persistent or transitory, (b) the current regime (e.g., negative real rates vs positive), (c) rate-of-change dynamics across multiple time horizons, or (d) the probability that the current trend will continue or reverse. These contextual features require temporal modeling that a tree-based model with point-in-time features struggles to learn.",
    "vif_concern": "Real rate (DFII10) is mathematically related to nominal yield (DGS10) minus breakeven inflation (T10YIE). The yield_curve submodel will also use DGS10. The real_rate submodel output must capture dynamics that are sufficiently distinct from yield curve level/spread information to maintain VIF < 10 in the meta-model."
  },
  "research_questions": [
    "What are the most effective methods for detecting regime changes in real interest rates? (e.g., Hidden Markov Models, threshold autoregression, Markov-switching models)",
    "How should persistence of real rate changes be measured? (e.g., rolling Hurst exponent, autocorrelation analysis, variance ratio tests)",
    "Can multi-country real rate data (G7/G10) be used to increase training samples? Which countries have TIPS-equivalent daily series available on FRED?",
    "What window lengths are appropriate for rate-of-change features (velocity, acceleration) given the slow-moving nature of monetary policy?",
    "What is the typical lag between real rate regime shifts and gold price reactions? Does the relationship vary by regime?"
  ],
  "submodel_output_spec": {
    "type": "continuous features",
    "dimensions": "3-5 columns",
    "candidate_outputs": [
      "regime_state: probability distribution over 2-3 regimes (e.g., low/mid/high real rate environment)",
      "persistence_score: rolling measure of trend persistence vs mean-reversion tendency",
      "velocity: rate of change normalized by historical volatility",
      "acceleration: second derivative of rate changes, capturing inflection points"
    ],
    "alignment": "Daily frequency, same date index as base_features.csv"
  },
  "constraints": [
    "Data delay: FRED DFII10 is published daily with T+1 delay, well within the 5-day rule",
    "The submodel must NOT predict gold prices or gold returns",
    "Output must maintain VIF < 10 when combined with yield_curve features (DGS10, DGS2, yield_spread)",
    "Smoke test: Optuna limited to 5 trials for quick pipeline verification",
    "No future information leakage -- all features must be computable from data available at time t",
    "Time-series split only (train 70% / val 15% / test 15%, chronological order)"
  ],
  "success_hypothesis": "Adding real rate dynamics context (regime + persistence + velocity) to the meta-model will improve test direction accuracy by at least +0.5 percentage points over the baseline of 43.5%, because the baseline cannot distinguish between persistent rate trends and transitory movements.",
  "baseline_context": {
    "test_direction_accuracy": 0.4354,
    "test_mae": 0.7139,
    "test_sharpe": -1.696,
    "note": "Baseline is below coin-flip on direction accuracy. Even modest contextual information should help."
  },
  "optuna_trials": 5,
  "previous_feedback": null,
  "created_at": "2026-02-14",
  "smoke_test_simplifications": [
    "Optuna trials reduced to 5 (production would use 50+)",
    "Focus on US data only for smoke test (multi-country expansion in later attempts if needed)",
    "Simpler model architecture preferred (e.g., small LSTM/GRU or even sliding-window MLP) to verify pipeline"
  ]
}
