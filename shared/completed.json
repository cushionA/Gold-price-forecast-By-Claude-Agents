{
  "real_rate": {
    "status": "completed",
    "best_attempt": 7,
    "final_attempt": 9,
    "max_attempt": 11,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": -0.00149,
      "sharpe_delta": 0.329,
      "mae_delta": -0.00221
    },
    "output_columns": ["rr_level_change_z", "rr_slope_chg_z", "rr_curvature_chg_z", "rr_slope_level_z"],
    "output_path": "data/submodel_outputs/real_rate.csv",
    "model_path": null,
    "completed_at": "2026-02-21T22:30:00",
    "reason": "Gate 3 PASS via Sharpe (+0.329, 6.6x threshold) at attempt 7. Attempts 8-9 also pass Gate 3 via MAE but are overall weaker. However, real_rate submodel features did NOT improve meta-model performance (attempt 18 with 28 features regressed on ALL metrics vs attempt 7 with 24 features). Submodel completed but features not included in final meta-model.",
    "meta_model_impact": "real_rate submodel features (4 columns) were tested in meta_model attempt 18 (28 total features). rr_level_change_z ranked #2 in feature importance (4.78%) but net effect was negative: all 4 meta-model metrics regressed vs attempt 7 (24 features). Information is largely redundant with real_rate_change base feature.",
    "attempt_history_summary": {
      "attempt_7": "Gate 3 PASS Sharpe +0.329 (BEST). 4 features.",
      "attempt_8": "Gate 3 PASS MAE -0.0203. 3 features. Sharpe reversed to -0.260.",
      "attempt_9": "Gate 3 PASS MAE -0.0141. 5 features. Strictly worse than attempt 8 on all metrics."
    }
  },
  "dxy": {
    "status": "completed",
    "final_attempt": 1,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": 0.00726,
      "sharpe_delta": 0.2546,
      "mae_delta": 0.0084
    },
    "output_columns": ["dxy_regime_prob", "dxy_momentum_z", "dxy_vol_z"],
    "output_path": "data/submodel_outputs/dxy/submodel_output.csv",
    "model_path": null,
    "completed_at": "2026-02-18T00:05:00",
    "reason": "Gate 3 PASS via DA (+0.73pp, 1.5x threshold, 4/5 folds) and Sharpe (+0.2546, 5.1x threshold, 4/5 folds). Third submodel to pass all 3 gates (after inflation_expectation and temporal_context). MI increase 6.24%, VIF max 2.92, stability 0.149. dxy_vol_z ranked #6/43 in feature importance."
  },
  "vix": {
    "status": "completed",
    "final_attempt": 1,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": 0.0096,
      "sharpe_delta": 0.2887,
      "mae_delta": 0.0161
    },
    "output_columns": ["vix_regime_probability", "vix_mean_reversion_z", "vix_persistence"],
    "output_path": "data/submodel_outputs/vix.csv",
    "model_path": "models/submodels/vix/model.pt",
    "completed_at": "2026-02-14T23:30:00"
  },
  "technical": {
    "status": "completed",
    "final_attempt": 1,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": 0.0005,
      "sharpe_delta": -0.0919,
      "mae_delta": -0.1824
    },
    "output_columns": ["tech_trend_regime_prob", "tech_mean_reversion_z", "tech_volatility_regime"],
    "output_path": "data/submodel_outputs/technical.csv",
    "model_path": "models/submodels/technical/model.pt",
    "completed_at": "2026-02-14T23:38:07",
    "reason": "Gate 3 PASS via MAE criterion (-0.1824, 18x threshold). MAE improved in 5/5 folds. HMM regime detection + z-score + GK volatility captures genuine structural information about gold price dynamics."
  },
  "cross_asset": {
    "status": "completed",
    "final_attempt": 2,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": 0.0076,
      "sharpe_delta": 0.0399,
      "mae_delta": -0.0866
    },
    "output_columns": ["xasset_regime_prob", "xasset_recession_signal", "xasset_divergence"],
    "output_path": "data/submodel_outputs/cross_asset.csv",
    "model_path": null,
    "completed_at": "2026-02-15T10:00:00",
    "reason": "Gate 3 PASS via DA (+0.76%, 3/5 folds) and MAE (-0.0866, 8.7x threshold, 4/5 folds). Deterministic HMM with 3-state regime detection on cross-asset correlations. regime_prob rank 7/28 and divergence rank 10/28 in feature importance. Gate 2 stability marginally fails (0.156 vs 0.15) for regime_prob only - consistent with VIX/Technical precedent for regime features."
  },
  "yield_curve": {
    "status": "completed",
    "best_attempt": 1,
    "final_attempt": 2,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": -0.0108,
      "sharpe_delta": -0.0151,
      "mae_delta": -0.0127
    },
    "output_columns": ["yc_curvature_z", "yc_spread_velocity_z", "yc_10y3m_velocity_z", "yc_dgs3mo_velocity_z"],
    "output_path": "data/outputs/yield_curve_2/submodel_output.csv",
    "model_path": null,
    "completed_at": "2026-02-21T23:30:00",
    "reason": "Gate 3 PASS via MAE (-0.0127, 1.27x threshold). First yield_curve attempt to pass ALL 3 gates (Gate 1 PASS, Gate 2 MI +15.17%, Gate 3 MAE PASS). Deterministic 4-feature z-score approach. yc_10y3m_velocity_z ranked 6/44 in feature importance.",
    "attempt_1_comparison": {
      "attempt_1_gate3_mae_delta": -0.0693,
      "attempt_1_gate3_mae_multiplier": "6.9x",
      "attempt_2_gate3_mae_delta": -0.0127,
      "attempt_2_gate3_mae_multiplier": "1.27x",
      "attempt_1_gate2_mi": "+0.37% (FAIL)",
      "attempt_2_gate2_mi": "+15.17% (PASS)",
      "note": "Attempt 1 has stronger Gate 3 MAE (6.9x vs 1.27x, 4/5 vs 2/5 folds). Attempt 2 has better information quality (all 3 gates PASS). For meta-model, attempt 1 output is currently in production dataset."
    }
  },
  "etf_flow": {
    "status": "completed",
    "final_attempt": 1,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": 0.0045,
      "sharpe_delta": 0.3767,
      "mae_delta": -0.0436
    },
    "output_columns": ["etf_regime_prob", "etf_capital_intensity", "etf_pv_divergence"],
    "output_path": "data/submodel_outputs/etf_flow.csv",
    "model_path": null,
    "completed_at": "2026-02-15T15:30:00",
    "reason": "Gate 3 PASS via Sharpe (+0.377, 7.5x threshold, 3/5 folds) and MAE (-0.0436, 4.4x threshold, 4/5 folds). 2D HMM regime detection on [log_volume_ratio, gold_return] + dollar volume z-score + PV divergence z-score. Strongest Sharpe improvement of any submodel. etf_regime_prob ranked #9/33 in feature importance. VIF warning: etf_regime_prob VIF=12.47 exceeds 10 threshold but Gate 3 confirms value.",
    "vif_warning": "etf_regime_prob VIF=12.47. Monitor in meta-model."
  },
  "inflation_expectation": {
    "status": "completed",
    "final_attempt": 1,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": 0.0057,
      "sharpe_delta": 0.1516,
      "mae_delta": 0.0526
    },
    "output_columns": ["ie_regime_prob", "ie_anchoring_z", "ie_gold_sensitivity_z"],
    "output_path": "data/submodel_outputs/inflation_expectation.csv",
    "model_path": null,
    "completed_at": "2026-02-15T16:00:00",
    "reason": "Gate 3 PASS via DA (+0.57%, 3/5 folds improved) and Sharpe (+0.1516, 3x threshold, 3/5 folds improved). First submodel to pass all three gates (Gate 1, 2, 3). 2D HMM (3-state) regime detection on inflation expectation dynamics + anchoring z-score + gold sensitivity z-score. MI increase +10.94% with excellent VIF (max 2.25) and stability (max 0.14). ie_gold_sensitivity_z ranked #8/22 in feature importance (5.38%)."
  },
  "cny_demand": {
    "status": "completed",
    "final_attempt": 2,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": 0.0153,
      "sharpe_delta": 0.2166,
      "mae_delta": -0.0008
    },
    "output_columns": ["cny_demand_spread_z"],
    "output_path": "data/outputs/cny_demand_2/submodel_output.csv",
    "model_path": null,
    "completed_at": "2026-02-17T22:30:00",
    "reason": "Gate 3 PASS via DA (+1.53pp, 3.1x threshold, 5/5 folds) and Sharpe (+0.217, 4.3x threshold, 5/5 folds). Deterministic CNY-CNH spread change z-score. Dramatically superior to attempt 1: reverses DA degradation (-2.06% -> +1.53%) and Sharpe degradation (-0.593 -> +0.217). VIF excellent (1.14), stability passes (0.134). Low feature importance (rank 22.4/25) but consistent positive contribution across all 5 folds. Should replace attempt 1 output in Kaggle dataset.",
    "attempt_1_comparison": {
      "attempt_1_da_delta": -0.0206,
      "attempt_1_sharpe_delta": -0.5934,
      "attempt_1_mae_delta": -0.0658,
      "attempt_2_da_delta": 0.0153,
      "attempt_2_sharpe_delta": 0.2166,
      "attempt_2_mae_delta": -0.0008,
      "da_improvement_pp": 3.59,
      "sharpe_improvement": 0.810
    }
  },
  "options_market": {
    "status": "completed",
    "final_attempt": 2,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": -0.0024,
      "sharpe_delta": -0.1413,
      "mae_delta": -0.1562
    },
    "output_columns": ["options_risk_regime_prob"],
    "output_path": "data/submodel_outputs/options_market.csv",
    "model_path": null,
    "completed_at": "2026-02-16T12:00:00",
    "reason": "Gate 3 PASS via MAE criterion (-0.1562, 15.6x threshold, 4/5 folds). HMM 3-state regime detection on SKEW/GVZ options market indicators. Single-column output after dimensionality reduction from attempt 1 (3 columns). options_risk_regime_prob ranked #2/20 in feature importance (7.55%). Gate 2 marginally fails (MI 4.96% vs 5%, stability 0.1555 vs 0.15) but Gate 3 ablation is convincing."
  },
  "temporal_context": {
    "status": "completed",
    "final_attempt": 1,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": 0.00584,
      "sharpe_delta": 0.1132,
      "mae_delta": -0.158049
    },
    "output_columns": ["temporal_context_score"],
    "output_path": "data/submodel_outputs/temporal_context.csv",
    "model_path": "models/submodels/temporal_context/model.pt",
    "completed_at": "2026-02-16T23:30:00",
    "reason": "Gate 3 PASS on ALL 3 criteria: DA (+0.58%, 3/5 folds), Sharpe (+0.1132, 2/5 folds), MAE (-0.158, 15.8x threshold, 5/5 folds). Second submodel to pass all 3 gates (after inflation_expectation). Masked Temporal Context Transformer (d_model=24, n_heads=2, n_layers=2, window_size=5). MI increase +8.05%, VIF 2.98, stability 0.129. temporal_context_score ranked #10/20 in feature importance (5.17%)."
  },
  "meta_model": {
    "status": "completed",
    "final_attempt": 7,
    "targets_passed": "3/4",
    "targets_met": ["direction_accuracy", "high_confidence_da", "sharpe_ratio"],
    "targets_failed": ["mae"],
    "final_metrics": {
      "direction_accuracy": 0.6004,
      "high_confidence_da": 0.6413,
      "mae": 0.9429,
      "sharpe_ratio": 2.4636
    },
    "vs_baseline": {
      "baseline_da": 0.4354,
      "baseline_sharpe": -1.696,
      "da_improvement_pp": 16.50,
      "sharpe_improvement": 4.16
    },
    "architecture": "XGBoost reg:squarederror + Bootstrap confidence + OLS scaling",
    "n_features": 24,
    "best_params": {
      "max_depth": 2,
      "min_child_weight": 25,
      "subsample": 0.765,
      "colsample_bytree": 0.450,
      "reg_lambda": 2.049,
      "reg_alpha": 1.107,
      "learning_rate": 0.0215,
      "n_estimators": 621
    },
    "top_3_features": [
      {"feature": "yc_curvature_z", "importance": 0.0868},
      {"feature": "xasset_recession_signal", "importance": 0.0780},
      {"feature": "temporal_context_score", "importance": 0.0578}
    ],
    "completed_at": "2026-02-16T23:45:00",
    "confirmed_final_at": "2026-02-21T22:30:00",
    "total_attempts": 18,
    "improvement_attempts_after_best": 11,
    "all_improvement_attempts_regressed": true,
    "reason": "3/4 targets met (DA 60.04%, HCDA 64.13%, Sharpe 2.46). Best-ever DA, HCDA, and Sharpe. MAE target (0.75%) structurally infeasible with expanded 2025-2026 test set. Confirmed as final after 11 consecutive improvement attempts (8-18) all failed to beat attempt 7 on any combination of metrics. Design doc success criteria satisfied.",
    "mae_waiver_reason": "Test set expanded to 458 samples including extreme 2025-2026 gold volatility. Zero-prediction MAE would be ~0.96%. Model's conservative predictions maximize Sharpe (2.46) but cannot match actual return magnitudes. No attempt with expanded test set achieved MAE < 0.75%."
  },
  "regime_classification": {
    "status": "completed",
    "final_attempt": 1,
    "final_gate_reached": 3,
    "gate3_scores": {
      "direction_accuracy_delta": 0.0134,
      "sharpe_delta": 0.377,
      "mae_delta": -0.001
    },
    "output_columns": ["regime_prob_0", "regime_prob_1", "regime_transition_velocity"],
    "output_path": "data/submodel_outputs/regime_classification/submodel_output.csv",
    "model_path": null,
    "completed_at": "2026-02-18T21:30:00",
    "reason": "Gate 3 PASS via DA (+1.34%, 2.7x threshold, 4/5 folds) and Sharpe (+0.377, 7.5x threshold, 4/5 folds). GMM K=2 with PCA (2 components), diagonal covariance. Gate 2 FAIL (MI +0.77%) overridden by strong Gate 3. VIF 3.90 (excellent orthogonality), stability 0.058 (well below 0.15). Regime balance 30/70 Risk-Off/Risk-On, avg duration 10 days."
  }
}
