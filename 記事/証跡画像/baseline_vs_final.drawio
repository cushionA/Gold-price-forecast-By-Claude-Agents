<mxfile host="app.diagrams.net" modified="2026-02-21" agent="Claude Code" version="24.0.0" type="device">
  <diagram name="Baseline vs Final" id="baseline-vs-final">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1000" pageHeight="620" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="&lt;b&gt;ベースライン vs 最終モデル&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;fontSize=22;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="300" y="15" width="350" height="40" as="geometry" />
        </mxCell>
        <mxCell id="subtitle" value="XGBoost（9特徴量のみ） vs XGBoost + 11サブモデル出力（24特徴量）" style="text;html=1;align=center;verticalAlign=middle;fontSize=11;fontColor=#888888;" vertex="1" parent="1">
          <mxGeometry x="230" y="50" width="500" height="20" as="geometry" />
        </mxCell>

        <!-- ===== Metric 1: Direction Accuracy ===== -->
        <mxCell id="m1_frame" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#EEEEEE;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="90" width="280" height="340" as="geometry" />
        </mxCell>
        <mxCell id="m1_title" value="&lt;b&gt;方向精度（DA）&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="95" y="100" width="170" height="25" as="geometry" />
        </mxCell>

        <!-- Baseline bar: 43.54% -->
        <mxCell id="m1_base_bar" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bdc3c7;strokeColor=#95a5a6;strokeWidth=1.5;" vertex="1" parent="1">
          <mxGeometry x="90" y="215" width="80" height="145" as="geometry" />
        </mxCell>
        <mxCell id="m1_base_val" value="&lt;b&gt;43.54%&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=bottom;fontSize=13;fontColor=#7f8c8d;" vertex="1" parent="1">
          <mxGeometry x="90" y="192" width="80" height="24" as="geometry" />
        </mxCell>
        <mxCell id="m1_base_lbl" value="ベースライン" style="text;html=1;align=center;verticalAlign=top;fontSize=10;fontColor=#95a5a6;" vertex="1" parent="1">
          <mxGeometry x="80" y="362" width="100" height="20" as="geometry" />
        </mxCell>

        <!-- Final bar: 60.04% -->
        <mxCell id="m1_final_bar" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#27ae60;strokeColor=#1a7a3e;strokeWidth=1.5;" vertex="1" parent="1">
          <mxGeometry x="200" y="160" width="80" height="200" as="geometry" />
        </mxCell>
        <mxCell id="m1_final_val" value="&lt;b&gt;60.04%&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=bottom;fontSize=13;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="200" y="137" width="80" height="24" as="geometry" />
        </mxCell>
        <mxCell id="m1_final_lbl" value="最終モデル" style="text;html=1;align=center;verticalAlign=top;fontSize=10;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="190" y="362" width="100" height="20" as="geometry" />
        </mxCell>

        <!-- Improvement annotation -->
        <mxCell id="m1_improve" value="&lt;font color=&quot;#27ae60&quot;&gt;&lt;b&gt;+16.50pp&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="110" y="385" width="140" height="25" as="geometry" />
        </mxCell>
        <mxCell id="m1_arrow" value="" style="endArrow=block;html=1;strokeColor=#27ae60;strokeWidth=2;endFill=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="165" y="230" as="sourcePoint" />
            <mxPoint x="205" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ===== Metric 2: HCDA ===== -->
        <mxCell id="m2_frame" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#EEEEEE;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="350" y="90" width="280" height="340" as="geometry" />
        </mxCell>
        <mxCell id="m2_title" value="&lt;b&gt;高確信度DA（HCDA）&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="395" y="100" width="190" height="25" as="geometry" />
        </mxCell>

        <!-- Baseline bar: 42.74% -->
        <mxCell id="m2_base_bar" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bdc3c7;strokeColor=#95a5a6;strokeWidth=1.5;" vertex="1" parent="1">
          <mxGeometry x="400" y="218" width="80" height="142" as="geometry" />
        </mxCell>
        <mxCell id="m2_base_val" value="&lt;b&gt;42.74%&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=bottom;fontSize=13;fontColor=#7f8c8d;" vertex="1" parent="1">
          <mxGeometry x="400" y="195" width="80" height="24" as="geometry" />
        </mxCell>
        <mxCell id="m2_base_lbl" value="ベースライン" style="text;html=1;align=center;verticalAlign=top;fontSize=10;fontColor=#95a5a6;" vertex="1" parent="1">
          <mxGeometry x="390" y="362" width="100" height="20" as="geometry" />
        </mxCell>

        <!-- Final bar: 64.13% -->
        <mxCell id="m2_final_bar" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#27ae60;strokeColor=#1a7a3e;strokeWidth=1.5;" vertex="1" parent="1">
          <mxGeometry x="510" y="147" width="80" height="213" as="geometry" />
        </mxCell>
        <mxCell id="m2_final_val" value="&lt;b&gt;64.13%&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=bottom;fontSize=13;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="510" y="124" width="80" height="24" as="geometry" />
        </mxCell>
        <mxCell id="m2_final_lbl" value="最終モデル" style="text;html=1;align=center;verticalAlign=top;fontSize=10;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="500" y="362" width="100" height="20" as="geometry" />
        </mxCell>

        <mxCell id="m2_improve" value="&lt;font color=&quot;#27ae60&quot;&gt;&lt;b&gt;+21.39pp&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="420" y="385" width="140" height="25" as="geometry" />
        </mxCell>
        <mxCell id="m2_arrow" value="" style="endArrow=block;html=1;strokeColor=#27ae60;strokeWidth=2;endFill=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="475" y="230" as="sourcePoint" />
            <mxPoint x="515" y="167" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ===== Metric 3: Sharpe Ratio ===== -->
        <mxCell id="m3_frame" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#EEEEEE;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="660" y="90" width="280" height="340" as="geometry" />
        </mxCell>
        <mxCell id="m3_title" value="&lt;b&gt;Sharpe Ratio&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;fontSize=14;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="735" y="100" width="130" height="25" as="geometry" />
        </mxCell>

        <!-- Zero line (for Sharpe since baseline is negative) -->
        <mxCell id="m3_zero" value="" style="endArrow=none;html=1;strokeColor=#CCCCCC;strokeWidth=1;dashed=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="695" y="300" as="sourcePoint" />
            <mxPoint x="905" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="m3_zero_lbl" value="0" style="text;html=1;align=right;verticalAlign=middle;fontSize=9;fontColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="670" y="292" width="20" height="16" as="geometry" />
        </mxCell>

        <!-- Baseline bar: -1.70 (goes below zero line) -->
        <mxCell id="m3_base_bar" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e74c3c;strokeColor=#c0392b;strokeWidth=1.5;" vertex="1" parent="1">
          <mxGeometry x="710" y="300" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="m3_base_val" value="&lt;b&gt;-1.70&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=top;fontSize=13;fontColor=#e74c3c;" vertex="1" parent="1">
          <mxGeometry x="710" y="362" width="80" height="24" as="geometry" />
        </mxCell>
        <mxCell id="m3_base_lbl" value="ベースライン" style="text;html=1;align=center;verticalAlign=top;fontSize=10;fontColor=#95a5a6;" vertex="1" parent="1">
          <mxGeometry x="700" y="388" width="100" height="20" as="geometry" />
        </mxCell>

        <!-- Final bar: 2.46 (goes above zero line) -->
        <mxCell id="m3_final_bar" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#27ae60;strokeColor=#1a7a3e;strokeWidth=1.5;" vertex="1" parent="1">
          <mxGeometry x="820" y="193" width="80" height="107" as="geometry" />
        </mxCell>
        <mxCell id="m3_final_val" value="&lt;b&gt;2.46&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=bottom;fontSize=13;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="820" y="170" width="80" height="24" as="geometry" />
        </mxCell>
        <mxCell id="m3_final_lbl" value="最終モデル" style="text;html=1;align=center;verticalAlign=top;fontSize=10;fontColor=#27ae60;" vertex="1" parent="1">
          <mxGeometry x="810" y="388" width="100" height="20" as="geometry" />
        </mxCell>

        <mxCell id="m3_improve" value="&lt;font color=&quot;#27ae60&quot;&gt;&lt;b&gt;+4.16&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="730" y="410" width="140" height="25" as="geometry" />
        </mxCell>
        <mxCell id="m3_arrow" value="" style="endArrow=block;html=1;strokeColor=#27ae60;strokeWidth=2;endFill=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="785" y="320" as="sourcePoint" />
            <mxPoint x="825" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ===== Bottom Summary ===== -->
        <mxCell id="summary_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#82b366;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="450" width="900" height="55" as="geometry" />
        </mxCell>
        <mxCell id="summary_text" value="&lt;b&gt;サブモデルによる文脈情報の追加で、全指標が大幅に改善&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;&quot;&gt;ベースライン: 9特徴量をそのままXGBoostに投入 → 最終モデル: 9特徴量 + 11サブモデルの出力（計24特徴量）をXGBoostに投入&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;fontSize=13;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="60" y="455" width="860" height="45" as="geometry" />
        </mxCell>

        <!-- ===== Legend ===== -->
        <mxCell id="legend" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="40" y="520" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="leg_base_box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bdc3c7;strokeColor=#95a5a6;" vertex="1" parent="1">
          <mxGeometry x="55" y="527" width="16" height="16" as="geometry" />
        </mxCell>
        <mxCell id="leg_base_t" value="ベースライン" style="text;html=1;align=left;verticalAlign=middle;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="75" y="524" width="80" height="22" as="geometry" />
        </mxCell>
        <mxCell id="leg_final_box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#27ae60;strokeColor=#1a7a3e;" vertex="1" parent="1">
          <mxGeometry x="175" y="527" width="16" height="16" as="geometry" />
        </mxCell>
        <mxCell id="leg_final_t" value="最終モデル（Attempt #7）" style="text;html=1;align=left;verticalAlign=middle;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="195" y="524" width="170" height="22" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>