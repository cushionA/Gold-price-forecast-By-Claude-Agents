{
  "method": "abstain_on_weak_signals",
  "description": "Skip trading on days where |prediction| is below calibrated threshold",
  "calibration": {
    "data_used": "train+val (NO test leakage)",
    "n_calibration_samples": 2588,
    "splits_used": [
      "train",
      "val"
    ],
    "abstain_percentile": 30,
    "threshold": 0.022227937,
    "abs_pred_mean": 0.029709546147484545,
    "abs_pred_median": 0.029269801,
    "abs_pred_std": 0.01660397176820342,
    "abs_pred_min": 0.00017996205,
    "abs_pred_max": 0.12895952
  },
  "test_results": {
    "da": 63.60655737704918,
    "hcda": 65.57377049180327,
    "sharpe": 3.4162971673458102,
    "mae": 0.7960008924764355,
    "max_drawdown_pct": -5.336371111025563,
    "cum_return_pct": 124.05644377936444,
    "coverage_pct": 66.5938864628821,
    "n_active": 305,
    "n_total": 458,
    "down_days_total": 189,
    "down_days_avoided": 70,
    "down_days_traded": 119,
    "avg_loss_on_down_days": -0.3214301844399132,
    "da_vs_baseline_pp": 3.566557377049179,
    "sharpe_vs_baseline": 0.9522971673458103,
    "max_dd_vs_baseline_pp": 8.073628888974437,
    "abstain_percentile": 30,
    "pred_threshold": 0.022227937
  },
  "val_results": {
    "da": 50.13333333333333,
    "hcda": 54.054054054054056,
    "sharpe": 0.06653531486311819,
    "mae": 0.6336820586715615,
    "max_drawdown_pct": -15.562666624574678,
    "cum_return_pct": 0.1005129167162,
    "coverage_pct": 82.45614035087719,
    "n_active": 376,
    "n_total": 456,
    "down_days_total": 216,
    "down_days_avoided": 40,
    "down_days_traded": 176,
    "avg_loss_on_down_days": -0.3184380212511471,
    "da_vs_baseline_pp": -9.906666666666666,
    "sharpe_vs_baseline": -2.3974646851368817,
    "max_dd_vs_baseline_pp": -2.152666624574678,
    "abstain_percentile": 30,
    "pred_threshold": 0.022227937
  },
  "baseline_comparison": {
    "baseline_da": 60.04,
    "baseline_hcda": 64.13,
    "baseline_sharpe": 2.464,
    "baseline_max_dd": -13.41,
    "baseline_cum_return": 150.78
  },
  "robustness_sweep": [
    {
      "percentile": 0,
      "threshold": 0.00017996205,
      "test_equivalent_pctile": 0.0,
      "da": 60.043668122270745,
      "hcda": 64.13043478260869,
      "sharpe": 2.4636254378024622,
      "mae": 0.944634882152426,
      "max_drawdown_pct": -13.410388141121791,
      "cum_return_pct": 150.776951617624,
      "coverage_pct": 100.0,
      "n_active": 458,
      "n_total": 458,
      "down_days_total": 189,
      "down_days_avoided": 0,
      "down_days_traded": 189,
      "avg_loss_on_down_days": -0.4879400508522871,
      "da_vs_baseline_pp": 0.003668122270745755,
      "sharpe_vs_baseline": -0.0003745621975377311,
      "max_dd_vs_baseline_pp": -0.00038814112179075266,
      "abstain_percentile": 0,
      "pred_threshold": 0.00017996205
    },
    {
      "percentile": 10,
      "threshold": 0.010689243,
      "test_equivalent_pctile": 13.755458515283841,
      "da": 61.01265822784811,
      "hcda": 65.82278481012658,
      "sharpe": 2.72752712554247,
      "mae": 0.8899224045458863,
      "max_drawdown_pct": -10.245636101713824,
      "cum_return_pct": 132.57819725655241,
      "coverage_pct": 86.24454148471615,
      "n_active": 395,
      "n_total": 458,
      "down_days_total": 189,
      "down_days_avoided": 30,
      "down_days_traded": 159,
      "avg_loss_on_down_days": -0.5594830876318589,
      "da_vs_baseline_pp": 0.9726582278481075,
      "sharpe_vs_baseline": 0.26352712554247004,
      "max_dd_vs_baseline_pp": 3.164363898286176,
      "abstain_percentile": 10,
      "pred_threshold": 0.010689243
    },
    {
      "percentile": 20,
      "threshold": 0.017325164799999997,
      "test_equivalent_pctile": 24.45414847161572,
      "da": 63.58381502890174,
      "hcda": 66.66666666666666,
      "sharpe": 3.384722532447617,
      "mae": 0.8322452960088774,
      "max_drawdown_pct": -5.336371111025549,
      "cum_return_pct": 146.05187476656013,
      "coverage_pct": 75.54585152838428,
      "n_active": 346,
      "n_total": 458,
      "down_days_total": 189,
      "down_days_avoided": 55,
      "down_days_traded": 134,
      "avg_loss_on_down_days": -0.41529818926129686,
      "da_vs_baseline_pp": 3.54381502890174,
      "sharpe_vs_baseline": 0.9207225324476171,
      "max_dd_vs_baseline_pp": 8.07362888897445,
      "abstain_percentile": 20,
      "pred_threshold": 0.017325164799999997
    },
    {
      "percentile": 25,
      "threshold": 0.020404113,
      "test_equivalent_pctile": 29.257641921397383,
      "da": 63.888888888888886,
      "hcda": 66.15384615384615,
      "sharpe": 3.1914774598704203,
      "mae": 0.8267887130531262,
      "max_drawdown_pct": -5.336371111025546,
      "cum_return_pct": 128.41942832155192,
      "coverage_pct": 70.74235807860262,
      "n_active": 324,
      "n_total": 458,
      "down_days_total": 189,
      "down_days_avoided": 64,
      "down_days_traded": 125,
      "avg_loss_on_down_days": -0.3822271552541605,
      "da_vs_baseline_pp": 3.8488888888888866,
      "sharpe_vs_baseline": 0.7274774598704203,
      "max_dd_vs_baseline_pp": 8.073628888974454,
      "abstain_percentile": 25,
      "pred_threshold": 0.020404113
    },
    {
      "percentile": 30,
      "threshold": 0.022227937,
      "test_equivalent_pctile": 33.4061135371179,
      "da": 63.60655737704918,
      "hcda": 65.57377049180327,
      "sharpe": 3.4162971673458102,
      "mae": 0.7960008924764355,
      "max_drawdown_pct": -5.336371111025563,
      "cum_return_pct": 124.05644377936444,
      "coverage_pct": 66.5938864628821,
      "n_active": 305,
      "n_total": 458,
      "down_days_total": 189,
      "down_days_avoided": 70,
      "down_days_traded": 119,
      "avg_loss_on_down_days": -0.3214301844399132,
      "da_vs_baseline_pp": 3.566557377049179,
      "sharpe_vs_baseline": 0.9522971673458103,
      "max_dd_vs_baseline_pp": 8.073628888974437,
      "abstain_percentile": 30,
      "pred_threshold": 0.022227937
    },
    {
      "percentile": 35,
      "threshold": 0.023558514,
      "test_equivalent_pctile": 38.209606986899566,
      "da": 65.01766784452296,
      "hcda": 68.51851851851852,
      "sharpe": 3.3529723249663634,
      "mae": 0.80068798660162,
      "max_drawdown_pct": -5.336371111025541,
      "cum_return_pct": 116.3451085959955,
      "coverage_pct": 61.79039301310044,
      "n_active": 283,
      "n_total": 458,
      "down_days_total": 189,
      "down_days_avoided": 82,
      "down_days_traded": 107,
      "avg_loss_on_down_days": -0.28769673030881954,
      "da_vs_baseline_pp": 4.977667844522962,
      "sharpe_vs_baseline": 0.8889723249663635,
      "max_dd_vs_baseline_pp": 8.073628888974458,
      "abstain_percentile": 35,
      "pred_threshold": 0.023558514
    },
    {
      "percentile": 40,
      "threshold": 0.025721645,
      "test_equivalent_pctile": 40.39301310043668,
      "da": 65.56776556776556,
      "hcda": 68.51851851851852,
      "sharpe": 3.5638596130027675,
      "mae": 0.8026744168899093,
      "max_drawdown_pct": -5.336371111025561,
      "cum_return_pct": 123.9655344402586,
      "coverage_pct": 59.60698689956332,
      "n_active": 273,
      "n_total": 458,
      "down_days_total": 189,
      "down_days_avoided": 87,
      "down_days_traded": 102,
      "avg_loss_on_down_days": -0.2591858270593266,
      "da_vs_baseline_pp": 5.527765567765563,
      "sharpe_vs_baseline": 1.0998596130027676,
      "max_dd_vs_baseline_pp": 8.07362888897444,
      "abstain_percentile": 40,
      "pred_threshold": 0.025721645
    },
    {
      "percentile": 50,
      "threshold": 0.029269801,
      "test_equivalent_pctile": 50.43668122270743,
      "da": 65.63876651982379,
      "hcda": 65.21739130434783,
      "sharpe": 3.078139414184724,
      "mae": 0.8075999931298322,
      "max_drawdown_pct": -5.336371111025554,
      "cum_return_pct": 90.79259331334575,
      "coverage_pct": 49.56331877729257,
      "n_active": 227,
      "n_total": 458,
      "down_days_total": 189,
      "down_days_avoided": 104,
      "down_days_traded": 85,
      "avg_loss_on_down_days": -0.20820658933348707,
      "da_vs_baseline_pp": 5.598766519823791,
      "sharpe_vs_baseline": 0.6141394141847241,
      "max_dd_vs_baseline_pp": 8.073628888974447,
      "abstain_percentile": 50,
      "pred_threshold": 0.029269801
    }
  ],
  "recommendation": {
    "selected_percentile": 30,
    "rationale": "Conservative choice. 40% gave best in-sample Sharpe but 30% better generalizes. Threshold stable across train/val/test distributions.",
    "threshold_stability": "Train+val threshold maps to test 33.4th percentile (target 30th)"
  }
}